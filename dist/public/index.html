<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Raccordement Électrique Enedis – Demande Simplifiée en Ligne | demande-raccordement.fr</title>
    <!-- Note: meta description and canonical are provided per-page via React Helmet -->
    
    <!-- Twitter Card meta tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@raccordementconnect">
    <meta name="twitter:title" content="Raccordement Électrique Enedis en Ligne - Demande Raccordement">
    <meta name="twitter:description" content="Service de raccordement Enedis simplifié. Processus en 4 étapes, 100% en ligne.">
    <meta name="twitter:image" content="https://www.demande-raccordement.fr/og-image.jpg">
    
    <!-- SEO amélioré avec mots-clés ciblés -->
    <meta name="keywords" content="raccordement enedis, électricité, raccordement électrique, enedis en ligne, branchement électrique, viabilisation terrain, compteur linky, france">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="author" content="Demande Raccordement">
    <meta name="language" content="fr-FR">
    <meta name="geo.region" content="FR">
    <meta name="geo.placename" content="France">
    <meta name="distribution" content="global">
    <meta name="rating" content="general">
    <meta name="revisit-after" content="1 days">
    <meta property="og:title" content="Raccordement Électrique Enedis en Ligne - Demande Raccordement">
    <meta property="og:description" content="Votre raccordement Enedis simplifié. Service 100% en ligne pour particuliers et professionnels. Partenaire n°1 en France.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.demande-raccordement.fr">
    <meta property="og:image" content="https://www.demande-raccordement.fr/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:locale" content="fr_FR">
    <meta property="og:site_name" content="Demande Raccordement">
    
    <!-- MOBILE: Skip font preload (uses system fonts) / DESKTOP: Preload Inter -->
    <link rel="preload" href="/fonts/inter-latin-400-normal.woff2" as="font" type="font/woff2" crossorigin media="(min-width: 769px)">
    <link rel="preload" href="/fonts/inter-latin-600-normal.woff2" as="font" type="font/woff2" crossorigin media="(min-width: 769px)">
    
    <!-- Données structurées Schema.org - Consolidé -->
    <script type="application/ld+json">
    {"@context":"https://schema.org","@graph":[{"@type":"Organization","name":"Demande Raccordement","url":"https://www.demande-raccordement.fr","logo":"https://www.demande-raccordement.fr/favicon-new.svg","telephone":"+33970709570","address":{"@type":"PostalAddress","addressCountry":"FR"}},{"@type":"WebSite","name":"Demande Raccordement","url":"https://www.demande-raccordement.fr/","inLanguage":"fr-FR"},{"@type":"Service","name":"Service de Raccordement Électrique Enedis","serviceType":"Raccordement électrique","areaServed":"France","offers":{"@type":"Offer","price":"129.80","priceCurrency":"EUR"}}]}
    </script>
    
    <!-- ENHANCED: Critical performance optimizations for Core Web Vitals -->
    <!-- Preconnect to critical third-party origins -->
    <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
    <link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
    <link rel="preconnect" href="https://js.stripe.com" crossorigin>
    <link rel="preconnect" href="https://geo.api.gouv.fr" crossorigin>
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    
    <!-- Security headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- ENHANCED: Enterprise Critical CSS - Performance + Professional Design -->
    <style>
      /* ═══════════════════════════════════════════════════════════
         PHASE 1: CRITICAL PERFORMANCE CSS
         PHASE 2: ENTERPRISE DESIGN SYSTEM
         ═══════════════════════════════════════════════════════════ */
      
      /* ENTERPRISE COLOR SYSTEM - CSS Variables */
      :root {
        /* Primary palette - Professional navy/blue */
        --primary-dark: #1E3A8A;
        --primary: #2563EB;
        --primary-light: #DBEAFE;
        
        /* Accent - Professional orange for CTAs */
        --accent: #EA580C;
        --accent-hover: #C2410C;
        
        /* Enterprise neutrals */
        --gray-50: #F9FAFB;
        --gray-100: #F3F4F6;
        --gray-200: #E5E7EB;
        --gray-300: #D1D5DB;
        --gray-600: #4B5563;
        --gray-700: #374151;
        --gray-900: #111827;
        
        /* Functional colors */
        --success: #059669;
        --error: #DC2626;
        
        /* Professional spacing scale */
        --space-xs: 8px;
        --space-sm: 16px;
        --space-md: 24px;
        --space-lg: 40px;
        --space-xl: 64px;
        --space-2xl: 80px;
      }
      
      /* Critical reset + Safari compatibility */
      * { box-sizing: border-box; }
      
      /* MOBILE LCP FIX: System fonts on mobile for instant rendering */
      body { 
        margin: 0; 
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
        -webkit-text-size-adjust: 100%;
        -moz-text-size-adjust: 100%;
             text-size-adjust: 100%;
        color: var(--gray-700);
        line-height: 1.6;
      }
      
      /* Desktop uses Inter font */
      @media (min-width: 769px) {
        body { font-family: Inter, -apple-system, BlinkMacSystemFont, system-ui, sans-serif; }
      }
      
      /* CLS FIX: Fixed hero min-height to prevent layout shift */
      .hero-section { 
        min-height: 480px;
        background: linear-gradient(180deg, #FFFFFF 0%, var(--gray-50) 100%);
        content-visibility: auto;
        contain-intrinsic-size: auto 480px;
      }
      @media (max-width: 768px) {
        .hero-section { min-height: 420px; contain-intrinsic-size: auto 420px; }
      }
      
      /* ENTERPRISE TYPOGRAPHY SCALE */
      h1 { font-size: 32px; font-weight: 700; line-height: 1.2; letter-spacing: -0.02em; color: var(--gray-900); margin: 0; }
      h2 { font-size: 24px; font-weight: 700; line-height: 1.3; color: var(--gray-900); margin: 0; }
      h3 { font-size: 20px; font-weight: 600; line-height: 1.4; color: var(--gray-900); margin: 0; }
      p { font-size: 16px; font-weight: 400; line-height: 1.6; color: var(--gray-600); margin: 0; }
      small { font-size: 14px; line-height: 1.5; color: var(--gray-600); }
      
      @media (min-width: 768px) {
        h1 { font-size: 48px; }
        h2 { font-size: 38px; }
        h3 { font-size: 24px; }
      }
      
      /* ENTERPRISE CTA BUTTON */
      .btn-primary {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 16px 32px;
        min-height: 56px;
        width: 100%;
        max-width: 400px;
        font-size: 18px;
        font-weight: 600;
        letter-spacing: 0.01em;
        background: var(--accent);
        color: #FFFFFF;
        border: none;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.08);
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
        -webkit-appearance: none;
        text-decoration: none;
      }
      .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
      .btn-primary:active { transform: translateY(1px); box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
      
      /* SECONDARY BUTTON */
      .btn-secondary {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 14px 28px;
        min-height: 52px;
        width: 100%;
        max-width: 400px;
        font-size: 18px;
        font-weight: 600;
        background: transparent;
        color: var(--primary);
        border: 2px solid var(--primary);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.15s ease;
        -webkit-appearance: none;
        text-decoration: none;
      }
      .btn-secondary:hover, .btn-secondary:active { background: var(--primary); color: #FFFFFF; }
      
      /* CONTAINER */
      .container { max-width: 1200px; margin: 0 auto; padding: 0 var(--space-md); }
      @media (max-width: 768px) { .container { padding: 0 var(--space-sm); } }
      
      /* CLS FIX: Explicit image dimensions */
      img { height: auto; max-width: 100%; display: block; }
      
      /* Form inputs - prevent zoom on iOS */
      input, select, textarea { font-family: inherit; font-size: 16px; }
      
      /* SECTION SPACING */
      section { padding: var(--space-xl) var(--space-md); }
      @media (max-width: 768px) { section { padding: var(--space-lg) var(--space-sm); } }
      
      /* ENTERPRISE CARD */
      .card {
        padding: 24px;
        background: #FFFFFF;
        border: 1px solid var(--gray-200);
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      }
      
      /* Form container optimizations */
      .form-container { contain: layout style paint; }
      
      /* Loading skeleton for CLS prevention */
      .skeleton { background: linear-gradient(90deg, var(--gray-100) 25%, var(--gray-200) 50%, var(--gray-100) 75%); background-size: 200% 100%; animation: skeleton 1.5s ease-in-out infinite; }
      @keyframes skeleton { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
    </style>
    
    <!-- PHASE 2B: Deferred CSS Loading - loader-animations.css (3KB) -->
    <!-- FIXED: Correct media="print" onload technique for non-critical animations -->
    <link rel="stylesheet" href="/styles/loader-animations.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="/styles/loader-animations.css"></noscript>
    
    <!-- PHASE 2C: Deferred CSS Loading - mobile-adjustments.css (4KB) -->
    <!-- Mobile enhancements and responsive design optimizations -->
    <link rel="stylesheet" href="/styles/mobile-adjustments.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="/styles/mobile-adjustments.css"></noscript>
    
    <!-- PHASE 2C: Deferred CSS Loading - sleek-checkboxes.css (2KB) -->
    <!-- Form decorations and enhanced checkbox styling -->
    <link rel="stylesheet" href="/styles/sleek-checkboxes.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="/styles/sleek-checkboxes.css"></noscript>
    
    <!-- PERFORMANCE FIX: Remove render-blocking polyfills for faster LCP -->
    <!-- Modern browsers don't need these polyfills, and they block rendering -->

    <!-- PERFORMANCE + TRACKING: GTM loads immediately (async), GA4/GAds deferred 1.5s -->
    <script>window.dataLayer = window.dataLayer || [];</script>
    
    <!-- GTM loads immediately (async, non-blocking) to capture all visits -->
    <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-K597C4C2');
    </script>
    
    <!-- GA4 + Google Ads deferred 1.5s OR user interaction for LCP improvement -->
    <script>
      (function() {
        var gtagLoaded = false;
        function loadGtag() {
          if (gtagLoaded) return;
          gtagLoaded = true;
          var s = document.createElement('script');
          s.async = true;
          s.src = 'https://www.googletagmanager.com/gtag/js?id=G-D92SQT9L1P';
          s.onload = function() {
            gtag('js', new Date());
            gtag('config', 'G-D92SQT9L1P', { 'send_page_view': true });
            gtag('config', 'AW-16683623620');
          };
          document.head.appendChild(s);
        }
        var t = setTimeout(loadGtag, 1500);
        ['scroll', 'click', 'touchstart'].forEach(function(e) {
          document.addEventListener(e, function() { clearTimeout(t); loadGtag(); }, { once: true, passive: true });
        });
      })();
      window.gtag = function(){dataLayer.push(arguments);};
    </script>

    <!-- Google Ads Conversion Functions (deferred definitions) -->
    <script>
      window.gads_form_start = function(email, phone) {
        if (window.gtag) gtag('event', 'conversion', { 'send_to': 'AW-16683623620/xhTDCODCy6gbEMTJr5M-', 'user_data': { 'email': email, 'phone_number': phone } });
      };
      window.gads_form_submit = function(email, phone) {
        if (window.gtag) gtag('event', 'conversion', { 'send_to': 'AW-16683623620/20wfCK-NyqgbEMTJr5M-', 'user_data': { 'email': email, 'phone_number': phone } });
      };
      window.gads_purchase = function(transactionId, value, email, phone) {
        if (window.gtag) gtag('event', 'conversion', { 'send_to': 'AW-16683623620/b5XPCPfuirYbEMTJr5M-', 'value': value || 129.80, 'currency': 'EUR', 'transaction_id': transactionId, 'user_data': { 'email': email, 'phone_number': phone } });
      };
    </script>

    <!-- DataLayer Tracking Helpers with Session Guards -->
    <script>
      var GTM_GUARD_KEYS = { FORM_START: 'gtm_form_start_fired', FORM_SUBMIT: 'gtm_form_submit_fired' };
      
      window.trackFormStart = function(email, phone) {
        if (sessionStorage.getItem(GTM_GUARD_KEYS.FORM_START)) return;
        sessionStorage.setItem(GTM_GUARD_KEYS.FORM_START, 'true');
        dataLayer.push({ event: 'form_start', email: email, phone: phone });
        if (window.gads_form_start) window.gads_form_start(email, phone);
      };
      
      window.trackFormSubmit = function(email, phone) {
        if (sessionStorage.getItem(GTM_GUARD_KEYS.FORM_SUBMIT)) return;
        sessionStorage.setItem(GTM_GUARD_KEYS.FORM_SUBMIT, 'true');
        dataLayer.push({ event: 'form_submit', email: email, phone: phone });
        if (window.gads_form_submit) window.gads_form_submit(email, phone);
      };
      
      window.trackPurchase = function(transactionId, email, phone) {
        var key = 'purchase_' + transactionId;
        if (sessionStorage.getItem(key)) return;
        sessionStorage.setItem(key, 'true');
        dataLayer.push({ event: 'purchase', transaction_id: transactionId, value: 129.80, currency: 'EUR', email: email, phone: phone });
        if (window.gads_purchase) window.gads_purchase(transactionId, 129.80, email, phone);
      };
    </script>

    <!-- PERFORMANCE: Only preload favicon, skip invalid modulepreload for TSX files -->
    <link rel="preload" href="/favicon-new.svg" as="image">
    <link rel="preconnect" href="https://geo.api.gouv.fr" crossorigin>
    <link rel="dns-prefetch" href="//geo.api.gouv.fr">
    
    <!-- SAFARI FIX: Enhanced Safari compatibility -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-touch-fullscreen" content="yes">
    <!-- Safari-specific optimizations -->
    <meta name="format-detection" content="telephone=no, date=no, email=no, address=no">
    
    
    
    <!-- Favicons optimisés - Logo Raccordement Enedis -->
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.svg">
    <meta name="theme-color" content="#007bff">
    
    <!-- Optimisations mobiles -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">
    
    <!-- PERFORMANCE FIX: Removed render-blocking MutationObserver script for faster LCP -->
    <script type="module" crossorigin src="/assets/index-Cz1F2q7w.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-DC7mfPNg.css">
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K597C4C2"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <!-- Root element for React - no static content to prevent flash -->
    <div id="root"></div>
    
    <!-- PERFORMANCE FIX: Non-critical Replit cleanup moved to body end -->
    <script>
      // Service Worker cache message
      console.log('✅ Ressources statiques mises en cache');
      
      // Non-critical Replit cleanup after page loads
      window.addEventListener('load', function() {
        // Observer le DOM pour éliminer les éléments Replit ajoutés dynamiquement
        const observer = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
            if (mutation.addedNodes && mutation.addedNodes.length > 0) {
              for (let i = 0; i < mutation.addedNodes.length; i++) {
                const node = mutation.addedNodes[i];
                if (node.nodeType === 1) {
                  // Vérifier si c'est un élément Replit
                  if (node.id && (node.id.includes('replit') || node.className && node.className.includes('replit'))) {
                    node.remove();
                  }
                  // Vérifier les attributs liés à Replit dans les favicon
                  const icons = document.querySelectorAll('link[rel="icon"], link[rel="shortcut icon"]');
                  icons.forEach(icon => {
                    if (icon.href && icon.href.includes('replit.com')) {
                      icon.href = '/favicon-new.svg';
                    }
                  });
                }
              }
            }
          });
        });
        
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });
      });
    </script>
  </body>
</html>
