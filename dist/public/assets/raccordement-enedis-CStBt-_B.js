import{c as U,r as v,d as ce,j as e,p as M,F as de,B as q,o as me,P as G,M as X,X as Z,q as W,S as xe,A as ue,z as l,f as i,g as c,h as d,i as m,k as x,I as b,t as he}from"./index-0D1suFIc.js";import{S as z,a as R,b as F,c as u,d as B}from"./select-Brc2mtO3.js";import{C as ge}from"./checkbox-BUU7KEld.js";import{C as pe}from"./index-ChuGjYJr.js";import{S as H}from"./shield-BbFgPOJk.js";import"./index-Y0FCUJBV.js";import"./index-CHtm33UB.js";import"./index-BvELTbcZ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=U("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),P="gclid",je=90;function $(){if(typeof window>"u")return null;const h=new URLSearchParams(window.location.search).get("gclid");if(h){const a=new Date;return a.setDate(a.getDate()+je),localStorage.setItem(P,h),localStorage.setItem(`${P}_expiry`,a.toISOString()),h}return null}function ve(){if(typeof window>"u")return null;const j=$();if(j)return j;const h=localStorage.getItem(P),a=localStorage.getItem(`${P}_expiry`);return!h||!a?null:new Date>new Date(a)?(localStorage.removeItem(P),localStorage.removeItem(`${P}_expiry`),null):h}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",$):$());const Y=()=>{const[j,h]=v.useState(!1),[a,N]=v.useState(!1);return v.useEffect(()=>{const p=()=>{h(window.innerWidth<=768)};p(),window.addEventListener("resize",p);const w=setTimeout(()=>N(!0),100);return()=>{window.removeEventListener("resize",p),clearTimeout(w)}},[]),{isMobile:j,isPageLoaded:a}},fe=()=>{const[j,h]=v.useState(!1),[a,N]=v.useState("main"),[p,w]=v.useState({email:"",phone:"",message:""}),{isMobile:k,isPageLoaded:C}=Y();v.useEffect(()=>{if(!C)return;const S=setTimeout(()=>{document.querySelector("input:focus, textarea:focus, select:focus")||h(!0)},k?6e3:3e3);return()=>clearTimeout(S)},[k,C]);const y=async f=>{f.preventDefault();try{await fetch("/api/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,source:"support_widget",timestamp:new Date().toISOString()})}),N("success")}catch(S){console.error("Erreur envoi lead:",S)}};return j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:()=>h(!1)}),e.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-96 max-w-[calc(100vw-2rem)]",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden transform transition-all duration-500 animate-in slide-in-from-bottom-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-transparent"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(J,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Support Portail Enedis"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Notre Ã©quipe de spÃ©cialistes est disponible"})]})]}),e.jsx("button",{onClick:()=>h(!1),className:"text-white/80 hover:text-white transition-colors p-1",children:e.jsx(Z,{className:"w-5 h-5"})})]})]}),a==="main"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-gray-700 mb-4",children:["Besoin d'aide avec votre raccordement Ã©lectrique ?",e.jsx("span",{className:"font-semibold text-blue-600",children:" Assistance gratuite et personnalisÃ©e."})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"RÃ©ponse sous 2h"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"100% Gratuit"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"font-bold text-blue-700",children:"+10,000"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Clients satisfaits"})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"font-bold text-green-700",children:"98%"}),e.jsx("div",{className:"text-xs text-green-600",children:"Taux de rÃ©ussite"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>N("contact"),className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-blue-500/25 flex items-center justify-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Obtenir de l'aide",e.jsx(ue,{className:"w-4 h-4"})]}),e.jsxs("button",{onClick:()=>window.open("tel:+33123456789","_self"),className:"w-full bg-green-600 text-white p-4 rounded-xl font-semibold hover:bg-green-700 transition-all duration-300 transform hover:scale-[1.02] shadow-lg hover:shadow-green-500/25 flex items-center justify-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Appeler maintenant"]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex text-yellow-500",children:[...Array(5)].map((f,S)=>e.jsx(be,{className:"w-4 h-4 fill-current"},S))}),e.jsx("span",{className:"text-sm font-medium",children:"4.9/5"})]}),e.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"Support exceptionnel ! Mon raccordement a Ã©tÃ© traitÃ© rapidement et sans problÃ¨me."',e.jsx("span",{className:"font-medium",children:" - Marie L."})]})]})]}),a==="contact"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Contactez nos experts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"RÃ©ponse garantie sous 24h ouvrÃ©es"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",required:!0,value:p.email,onChange:f=>w({...p,email:f.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"votre@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TÃ©lÃ©phone"}),e.jsx("input",{type:"tel",value:p.phone,onChange:f=>w({...p,phone:f.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"06 XX XX XX XX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),e.jsx("textarea",{required:!0,value:p.message,onChange:f=>w({...p,message:f.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24 resize-none",placeholder:"DÃ©crivez votre projet ou votre question..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>N("main"),className:"px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Retour"}),e.jsx("button",{type:"submit",className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Envoyer"})]})]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(H,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),e.jsx("span",{className:"text-xs text-gray-600",children:"SÃ©curisÃ©"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(W,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),e.jsx("span",{className:"text-xs text-gray-600",children:"RÃ©ponse rapide"})]})]})]}),a==="success"&&e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(M,{className:"w-8 h-8 text-green-600"})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Message envoyÃ© !"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Nos experts vous recontacteront sous 24h pour vous accompagner dans votre projet."}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"En attendant :"})," Consultez notre guide complet du raccordement Ã©lectrique"]})}),e.jsx("button",{onClick:()=>h(!1),className:"w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Fermer"})]})]})})]}):e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:e.jsxs("button",{onClick:()=>h(!0),className:`group bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-full shadow-2xl hover:shadow-blue-500/25 transition-all duration-300 transform hover:scale-110 ${k?"animate-none":"animate-bounce"}`,style:{willChange:k?"auto":"transform",backfaceVisibility:"hidden",transform:"translateZ(0)"},children:[e.jsx(J,{className:"w-6 h-6"}),e.jsx("div",{className:`absolute -top-2 -right-2 w-4 h-4 bg-red-500 rounded-full ${k?"animate-none":"animate-pulse"}`})]})})},Ne=l.object({clientType:l.enum(["particulier","professionnel","collectivite"]),nom:l.string().min(2,"Le nom doit contenir au moins 2 caractÃ¨res"),prenom:l.string().min(2,"Le prÃ©nom doit contenir au moins 2 caractÃ¨res"),email:l.string().email("L'email doit Ãªtre valide"),phone:l.string().refine(j=>{const h=j.replace(/[\s\.\-]/g,"");return/^(0[1-9]\d{8}|\+33[1-9]\d{8})$/.test(h)},"Format tÃ©lÃ©phone invalide (ex: 06 12 34 56 78)"),raisonSociale:l.string().optional(),siren:l.string().optional(),nomCollectivite:l.string().optional(),sirenCollectivite:l.string().optional(),adresse:l.string().optional(),complementAdresse:l.string().optional(),codePostal:l.string().optional(),ville:l.string().optional(),adresseProjet:l.string().min(5,"L'adresse du projet doit Ãªtre complÃ¨te"),complementAdresseProjet:l.string().optional(),codePostalProjet:l.string().regex(/^\d{5}$/,"Code postal invalide (5 chiffres)"),villeProjet:l.string().min(2,"La ville est requise"),typeRaccordement:l.enum(["nouveau","provisoire","augmentation","deplacement","autre"]),autreTypeRaccordement:l.string().optional(),typeProjet:l.enum(["maison","immeuble","commercial","industriel","terrain"]),terrainViabilise:l.boolean().optional(),typeAlimentation:l.enum(["monophase","triphase","inconnu"]),puissance:l.string().optional(),adresseFacturationDifferente:l.boolean().optional(),adresseFacturation:l.string().optional(),facturationDifferente:l.boolean().optional(),newsletterOptIn:l.boolean().optional(),consentementTraitement:l.boolean()}).refine(j=>{var h;return!(j.facturationDifferente&&!((h=j.adresseFacturation)!=null&&h.trim()))},{message:"L'adresse de facturation est obligatoire quand cette option est activÃ©e",path:["adresseFacturation"]});function Pe(){const{isMobile:j,isPageLoaded:h}=Y(),[a,N]=v.useState(1),[p,w]=v.useState(!1),[k,C]=v.useState(!1),[y,f]=v.useState({name:"",email:"",message:""}),[S,E]=v.useState(!1),[K,D]=v.useState(!1),O=async(s,t=!1)=>{if(s.length===5)try{t?E(!0):D(!0);const o=await fetch(`https://geo.api.gouv.fr/communes?codePostal=${s}&fields=nom,codesPostaux&format=json&geometry=centre`);if(o.ok){const n=await o.json();if(n&&n.length>0){const g=n[0].nom;setTimeout(()=>{t?(r.setValue("ville",g),E(!1)):(r.setValue("villeProjet",g),D(!1))},300)}}}catch(o){console.log("Erreur lors de la rÃ©cupÃ©ration de la ville:",o),t?E(!1):D(!1)}},Q=()=>{window.scrollTo({top:0,behavior:"smooth"})};v.useEffect(()=>{Q()},[a]);const r=ce({resolver:he(Ne),defaultValues:{clientType:"particulier",nom:"",prenom:"",email:"",phone:"",raisonSociale:"",siren:"",nomCollectivite:"",sirenCollectivite:"",adresse:"",complementAdresse:"",codePostal:"",ville:"",typeRaccordement:void 0,autreTypeRaccordement:"",typeProjet:void 0,terrainViabilise:!1,typeAlimentation:"inconnu",puissance:"",adresseFacturationDifferente:!1,adresseFacturation:"",adresseProjet:"",complementAdresseProjet:"",codePostalProjet:"",villeProjet:"",facturationDifferente:!1,newsletterOptIn:!1,consentementTraitement:!1}}),I=r.watch("clientType"),T=r.watch("codePostal"),ee=r.watch("typeRaccordement");v.useEffect(()=>{T&&T.length===5&&(async()=>{try{const o=await(await fetch(`https://geo.api.gouv.fr/communes?codePostal=${T}&fields=nom&format=json&geometry=centre`)).json();o&&o.length>0&&r.setValue("ville",o[0].nom)}catch(t){console.log("Erreur lors de la rÃ©cupÃ©ration de la ville:",t);const n={75001:"Paris",75002:"Paris",75003:"Paris",75004:"Paris",75005:"Paris",69001:"Lyon",69002:"Lyon",69003:"Lyon",69004:"Lyon",69005:"Lyon",13001:"Marseille",13002:"Marseille",13003:"Marseille",13004:"Marseille",31e3:"Toulouse",31100:"Toulouse",31200:"Toulouse",31300:"Toulouse",59e3:"Lille",59160:"Lille",59260:"Lille",59777:"Lille",44e3:"Nantes",44100:"Nantes",44200:"Nantes",44300:"Nantes",67e3:"Strasbourg",67100:"Strasbourg",67200:"Strasbourg",34e3:"Montpellier",34070:"Montpellier",34080:"Montpellier",33e3:"Bordeaux",33100:"Bordeaux",33200:"Bordeaux",33300:"Bordeaux",35e3:"Rennes",35200:"Rennes",35700:"Rennes"}[T];n&&r.setValue("ville",n)}})()},[T,r]);const se=async(s,t)=>{try{const o=await fetch("/api/notifications/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s,data:t,timestamp:new Date().toISOString()})});console.log(`Notification ${s} envoyÃ©e`)}catch(o){console.error("Erreur notification:",o)}},re=async()=>{let s=[];if(a===1){s=["clientType","nom","prenom","email","phone"];const t=r.getValues();t.email&&localStorage.setItem("user_email",t.email),t.phone&&localStorage.setItem("user_phone",t.phone),t.prenom&&localStorage.setItem("user_first_name",t.prenom),t.nom&&localStorage.setItem("user_last_name",t.nom),I==="professionnel"?s.push("raisonSociale","siren"):I==="collectivite"&&s.push("nomCollectivite","sirenCollectivite"),await r.trigger(s)&&(setTimeout(()=>{console.log("ðŸŽ¯ Attempting form start conversion...");let n=!1;if(typeof window<"u"&&window.triggerFormStartConversion)try{window.triggerFormStartConversion(),console.log("âœ… Form start conversion via global trigger"),n=!0}catch(g){console.warn("Global trigger failed:",g)}if(!n&&typeof window<"u"&&window.directFormStartConversion)try{n=window.directFormStartConversion(),console.log("âœ… Form start conversion via direct function")}catch(g){console.warn("Direct function failed:",g)}if(!n&&typeof window<"u"&&window.gtag)try{window.gtag("event","conversion",{send_to:"AW-16698052873/5o3ICMLjpMUaEImioJo-"}),console.log("âœ… Form start conversion via raw gtag"),n=!0}catch(g){console.warn("Raw gtag failed:",g)}n||console.error("âŒ All form start conversion methods failed")},300),N(a+1),te())}else a===2&&(s=["adresseProjet","codePostalProjet","villeProjet","typeRaccordement","typeProjet","typeAlimentation"],r.watch("typeAlimentation")!=="inconnu"&&s.push("puissance"),await r.trigger(s)&&(await ae(),N(a+1)))},te=async()=>{try{const s=r.getValues(),t=await fetch("/api/leads/prelead-with-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientType:s.clientType,nom:s.nom,prenom:s.prenom,email:s.email,phone:s.phone,raisonSociale:s.raisonSociale,siren:s.siren,nomCollectivite:s.nomCollectivite,sirenCollectivite:s.sirenCollectivite,sendNotification:!0})});if(t.ok){const o=await t.json();sessionStorage.setItem("preleadId",o.leadId),console.log("âœ… Prelead crÃ©Ã© avec succÃ¨s:",o.referenceNumber)}else console.error("Erreur API prelead optimisÃ©:",t.status)}catch(s){console.error("Erreur crÃ©ation prelead optimisÃ©:",s)}},ae=async()=>{try{const s=r.getValues(),t=sessionStorage.getItem("preleadId"),o=await fetch("/api/leads/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({preleadId:t,adresse:s.adresse,complementAdresse:s.complementAdresse,codePostal:s.codePostal,ville:s.ville,typeRaccordement:s.typeRaccordement,typeProjet:s.typeProjet})});if(o.ok){const n=await o.json();await se("lead_completed",n)}}catch(s){console.error("Erreur completion lead:",s)}},ne=()=>{a>1&&N(a-1)},_=async s=>{console.log("ðŸš€ DÃ©but de soumission du formulaire",s),w(!0);try{const t=`RAC-${Math.floor(1e3+Math.random()*9e3)}-${Math.floor(1e5+Math.random()*9e5)}`;console.log("ðŸ“ RÃ©fÃ©rence gÃ©nÃ©rÃ©e:",t);const o=ve(),n={name:`${s.prenom||""} ${s.nom||""}`.trim(),email:s.email,phone:s.phone,address:s.adresseProjet,city:s.villeProjet,postalCode:s.codePostalProjet,serviceType:"electricity",requestType:s.typeRaccordement==="provisoire"?"temporary_connection":"new_connection",buildingType:s.typeProjet==="immeuble"?"apartment_building":"individual_house",projectStatus:"planning",powerRequired:s.puissance||"12",reference:t,gclid:o||void 0,clientType:s.clientType,prenom:s.prenom,complementAdresse:s.complementAdresse,typeAlimentation:s.typeAlimentation,adresseFacturationDifferente:s.adresseFacturationDifferente,newsletterOptIn:s.newsletterOptIn,consentementTraitement:s.consentementTraitement},g=await fetch("/api/service-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!g.ok)throw new Error("Erreur lors de l'envoi de la demande");const V=await g.json();setTimeout(()=>{console.log("ðŸŽ¯ Attempting form submit conversion...");let L=!1;if(typeof window<"u"&&window.triggerFormSubmitConversion)try{window.triggerFormSubmitConversion(),console.log("âœ… Form submit conversion via global trigger"),L=!0}catch(A){console.warn("Global submit trigger failed:",A)}if(!L&&typeof window<"u"&&window.directFormSubmitConversion)try{L=window.directFormSubmitConversion(),console.log("âœ… Form submit conversion via direct function")}catch(A){console.warn("Direct submit function failed:",A)}if(!L&&typeof window<"u"&&window.gtag)try{window.gtag("event","conversion",{send_to:"AW-16698052873/PqZMCJW-tMUaEImioJo-"}),console.log("âœ… Form submit conversion via raw gtag"),L=!0}catch(A){console.warn("Raw gtag submit failed:",A)}L||console.error("âŒ All form submit conversion methods failed")},100),await fetch("/api/notifications/request-completed",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.name,email:n.email,phone:n.phone,referenceNumber:t,address:n.address,city:n.city,postalCode:n.postalCode,requestType:n.requestType,buildingType:n.buildingType,powerRequired:n.powerRequired,company:s.raisonSociale||"",clientType:s.clientType,prenom:s.prenom,nom:s.nom,typeRaccordement:s.typeRaccordement,typeProjet:s.typeProjet,typeAlimentation:s.typeAlimentation,puissance:s.puissance,complementAdresse:s.complementAdresse,complementAdresseProjet:s.complementAdresseProjet,raisonSociale:s.raisonSociale,siren:s.siren,nomCollectivite:s.nomCollectivite,sirenCollectivite:s.sirenCollectivite,adresseFacturationDifferente:s.adresseFacturationDifferente,adresseFacturation:s.adresseFacturation||"",terrainViabilise:s.terrainViabilise,autreTypeRaccordement:s.autreTypeRaccordement||"",adresseComplete:s.adresse||"",codePostalComplete:s.codePostal||"",villeComplete:s.ville||"",timestamp:new Date().toISOString()})}),console.log("ðŸŽ¯ Attempting final form submit conversion..."),typeof window<"u"&&window.triggerFormSubmitConversion?(window.triggerFormSubmitConversion(),console.log("âœ… Final form submit conversion triggered via global function")):typeof window<"u"&&window.gtag?(window.gtag("event","conversion",{send_to:"AW-16698052873/PqZMCJW-tMUaEtmioJo-"}),console.log("âœ… Final form submit conversion sent via direct gtag call")):console.error("âŒ Final form submit conversion failed - no tracking method available"),window.location.href=`/confirmation/${t}`}catch(t){console.error("Erreur:",t)}finally{w(!1)}},le=()=>e.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl shadow-sm border border-gray-100 p-2 md:p-8",children:[e.jsxs("div",{className:"mb-1 md:mb-6",children:[e.jsx("h2",{className:"text-base md:text-2xl font-semibold text-gray-900 mb-0.5 tracking-tight",children:"Informations personnelles"}),e.jsx("p",{className:"text-xs md:text-base text-gray-600 leading-relaxed hidden sm:block",children:"Renseignez vos coordonnÃ©es pour initialiser votre demande"})]}),e.jsxs("div",{className:"space-y-1 md:space-y-3",children:[e.jsx(i,{control:r.control,name:"clientType",render:({field:s})=>e.jsxs(c,{className:"space-y-0.5",children:[e.jsxs(d,{className:"text-xs md:text-base font-medium text-gray-700 flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"}),e.jsx("span",{children:"Type de client *"})]}),e.jsx(m,{children:e.jsxs("div",{children:[e.jsx("div",{className:"block md:hidden",children:e.jsxs(z,{onValueChange:s.onChange,value:s.value,children:[e.jsx(R,{className:`
                        min-h-[64px] h-16 w-full 
                        bg-white border-2 border-gray-300 rounded-2xl 
                        shadow-sm hover:border-blue-500 focus:border-blue-600 
                        focus:ring-4 focus:ring-blue-100 
                        transition-all duration-200 
                        text-gray-700 font-medium text-base
                        px-4 py-3
                        cursor-pointer
                        active:scale-[0.98]
                        touch-manipulation
                      `,children:e.jsxs("div",{className:"flex items-center gap-4 w-full",children:[s.value==="particulier"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Particulier"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Raccordement rÃ©sidentiel"})]}),e.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.value==="professionnel"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Professionnel"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Entreprise ou commerce"})]}),e.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.value==="collectivite"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"CollectivitÃ©"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Institution publique"})]}),e.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),!s.value&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center border border-gray-200",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),e.jsx("span",{className:"text-gray-500 font-medium",children:"SÃ©lectionnez votre type de client"})]})]})}),e.jsxs(F,{className:`
                        bg-white border-2 border-gray-200 rounded-2xl 
                        shadow-2xl mt-3 z-50
                        w-full max-w-[calc(100vw-2rem)]
                        max-h-[400px] overflow-y-auto
                        touch-manipulation
                        p-3
                      `,children:[e.jsx(u,{value:"particulier",className:"px-4 py-3 hover:bg-blue-50 cursor-pointer touch-manipulation min-h-[60px] focus:bg-blue-50 active:bg-blue-100 transition-all duration-200 rounded-lg mx-0 my-1 border-2 border-transparent hover:border-blue-300 data-[state=checked]:border-blue-600 data-[state=checked]:bg-blue-50",children:e.jsxs("div",{className:"flex items-center gap-3 w-full relative",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Particulier"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Domicile rÃ©sidentiel"})]})]})}),e.jsx(u,{value:"professionnel",className:"px-4 py-3 hover:bg-orange-50 cursor-pointer touch-manipulation min-h-[60px] focus:bg-orange-50 active:bg-orange-100 transition-all duration-200 rounded-lg mx-0 my-1 border-2 border-transparent hover:border-orange-300 data-[state=checked]:border-orange-600 data-[state=checked]:bg-orange-50",children:e.jsxs("div",{className:"flex items-center gap-3 w-full relative",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"Professionnel"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Entreprise & commerce"})]})]})}),e.jsx(u,{value:"collectivite",className:"px-4 py-3 hover:bg-green-50 cursor-pointer touch-manipulation min-h-[60px] focus:bg-green-50 active:bg-green-100 transition-all duration-200 rounded-lg mx-0 my-1 border-2 border-transparent hover:border-green-300 data-[state=checked]:border-green-600 data-[state=checked]:bg-green-50",children:e.jsxs("div",{className:"flex items-center gap-3 w-full relative",children:[e.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:"CollectivitÃ©"}),e.jsx("div",{className:"text-xs text-gray-600",children:"EntitÃ© publique"})]})]})})]})]})}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[e.jsx("div",{onClick:()=>s.onChange("particulier"),className:`
                          relative cursor-pointer border-2 rounded-lg p-4
                          transition-all duration-200 hover:shadow-md
                          ${s.value==="particulier"?"border-blue-600 bg-blue-50":"border-gray-300 bg-white hover:border-blue-300"}
                        `,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`
                            w-10 h-10 rounded-lg flex items-center justify-center
                            ${s.value==="particulier"?"bg-blue-600 text-white":"bg-blue-100 text-blue-600"}
                          `,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Particulier"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Domicile rÃ©sidentiel"})]}),s.value==="particulier"&&e.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})}),e.jsx("div",{onClick:()=>s.onChange("professionnel"),className:`
                          relative cursor-pointer border-2 rounded-lg p-4
                          transition-all duration-200 hover:shadow-md
                          ${s.value==="professionnel"?"border-orange-600 bg-orange-50":"border-gray-300 bg-white hover:border-orange-300"}
                        `,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`
                            w-10 h-10 rounded-lg flex items-center justify-center
                            ${s.value==="professionnel"?"bg-orange-600 text-white":"bg-orange-100 text-orange-600"}
                          `,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Professionnel"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Entreprise & commerce"})]}),s.value==="professionnel"&&e.jsx("div",{className:"w-5 h-5 bg-orange-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})}),e.jsx("div",{onClick:()=>s.onChange("collectivite"),className:`
                          relative cursor-pointer border-2 rounded-lg p-4
                          transition-all duration-200 hover:shadow-md
                          ${s.value==="collectivite"?"border-green-600 bg-green-50":"border-gray-300 bg-white hover:border-green-300"}
                        `,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`
                            w-10 h-10 rounded-lg flex items-center justify-center
                            ${s.value==="collectivite"?"bg-green-600 text-white":"bg-green-100 text-green-600"}
                          `,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"CollectivitÃ©"}),e.jsx("p",{className:"text-xs text-gray-600",children:"EntitÃ© publique"})]}),s.value==="collectivite"&&e.jsx("div",{className:"w-5 h-5 bg-green-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})})]})})]})}),e.jsx(x,{})]})}),e.jsxs("div",{className:"space-y-6 md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[e.jsx(i,{control:r.control,name:"nom",render:({field:s})=>e.jsxs(c,{className:"space-y-3",children:[e.jsx(d,{className:"text-base font-semibold text-gray-800",children:e.jsxs("span",{className:"text-blue-600",children:["Nom ",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx(m,{children:e.jsx(b,{placeholder:"Votre nom de famille",autoComplete:"family-name",inputMode:"text",autoCapitalize:"words",className:`
                      h-14 text-base font-medium
                      bg-white border-2 border-gray-200 rounded-xl 
                      px-5 py-4
                      placeholder-gray-400
                      hover:border-blue-300 hover:bg-blue-50/30
                      focus:border-blue-500 focus:ring-0 focus:outline-none
                      transition-all duration-300
                      touch-manipulation
                      shadow-sm hover:shadow-md focus:shadow-lg
                    `,...s})}),e.jsx(x,{className:"text-sm text-red-600 font-medium"})]})}),e.jsx(i,{control:r.control,name:"prenom",render:({field:s})=>e.jsxs(c,{className:"space-y-3",children:[e.jsx(d,{className:"text-base font-semibold text-gray-800",children:e.jsxs("span",{className:"text-blue-600",children:["PrÃ©nom ",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx(m,{children:e.jsx(b,{placeholder:"Votre prÃ©nom",autoComplete:"given-name",inputMode:"text",autoCapitalize:"words",className:`
                      h-14 text-base font-medium
                      bg-white border-2 border-gray-200 rounded-xl 
                      px-5 py-4
                      placeholder-gray-400
                      hover:border-blue-300 hover:bg-blue-50/30
                      focus:border-blue-500 focus:ring-0 focus:outline-none
                      transition-all duration-300
                      touch-manipulation
                      shadow-sm hover:shadow-md focus:shadow-lg
                    `,...s})}),e.jsx(x,{className:"text-sm text-red-600 font-medium"})]})})]}),e.jsxs("div",{className:"space-y-6 md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[e.jsx(i,{control:r.control,name:"email",render:({field:s})=>e.jsxs(c,{className:"space-y-3",children:[e.jsx(d,{className:"text-base font-semibold text-gray-800",children:e.jsxs("span",{className:"text-blue-600",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx(m,{children:e.jsx(b,{type:"email",placeholder:"votre@email.com",autoComplete:"email",inputMode:"email",autoCapitalize:"none",spellCheck:"false",className:`
                      h-14 text-base font-medium
                      bg-white border-2 border-gray-200 rounded-xl 
                      px-5 py-4
                      placeholder-gray-400
                      hover:border-blue-300 hover:bg-blue-50/30
                      focus:border-blue-500 focus:ring-0 focus:outline-none
                      transition-all duration-300
                      touch-manipulation
                      shadow-sm hover:shadow-md focus:shadow-lg
                    `,...s})}),e.jsx(x,{className:"text-sm text-red-600 font-medium"})]})}),e.jsx(i,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(c,{className:"space-y-3",children:[e.jsx(d,{className:"text-base font-semibold text-gray-800",children:e.jsxs("span",{className:"text-blue-600",children:["TÃ©lÃ©phone ",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center h-14 bg-white border-2 border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/30 focus-within:border-blue-500 transition-all duration-300 shadow-sm hover:shadow-md focus-within:shadow-lg",children:[e.jsx("div",{className:"flex items-center gap-3 px-4 text-gray-600 border-r border-gray-200",children:e.jsx("span",{className:"text-sm font-semibold whitespace-nowrap",children:"ðŸ‡«ðŸ‡· +33"})}),e.jsx(b,{type:"tel",placeholder:"",autoComplete:"tel",inputMode:"tel",maxLength:14,className:`
                        flex-1 h-full text-base font-medium
                        bg-transparent border-0 
                        px-4 py-4
                        placeholder-gray-400
                        focus:ring-0 focus:outline-none
                        touch-manipulation
                      `,...s,onChange:t=>{const o=t.target.value.replace(/\D/g,"");let n="";if(o.length<=10)for(let g=0;g<o.length;g++)g>0&&g%2===0&&(n+=" "),n+=o[g];else{const g=o.substring(0,10);for(let V=0;V<g.length;V++)V>0&&V%2===0&&(n+=" "),n+=g[V]}s.onChange(n)}})]})}),e.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Format: mobile franÃ§ais (06, 07) ou fixe (01-05)"}),e.jsx(x,{className:"text-sm text-red-600 font-medium"})]})})]}),I==="professionnel"&&e.jsxs("div",{className:"p-2 md:p-6 bg-blue-50/80 rounded-lg border border-blue-200/60 md:grid md:grid-cols-2 md:gap-4","data-form-section":"professionnel",children:[e.jsxs("div",{className:"text-xs md:text-sm text-blue-700 font-medium mb-2 md:col-span-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-6a1 1 0 00-1-1H9a1 1 0 00-1 1v6a1 1 0 01-1 1H4a1 1 0 110-2V4z",clipRule:"evenodd"})}),"Informations entreprise"]}),e.jsx(i,{control:r.control,name:"raisonSociale",render:({field:s})=>e.jsxs(c,{"data-field":"raisonSociale",children:[e.jsx(d,{className:"text-sm font-medium text-gray-700 mb-1",children:e.jsxs("span",{className:"text-blue-600",children:["Raison sociale ",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx(m,{children:e.jsx(b,{placeholder:"Nom de votre entreprise",className:`
                        h-12 text-base
                        bg-white border border-gray-300 rounded-lg 
                        px-4 py-3
                        placeholder-gray-500
                        hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100
                        transition-all duration-200
                        touch-manipulation
                      `,...s})}),e.jsx(x,{className:"text-xs text-red-600"})]})}),e.jsx(i,{control:r.control,name:"siren",render:({field:s})=>e.jsxs(c,{"data-field":"siren",children:[e.jsx(d,{className:"text-sm font-medium text-gray-700 mb-1",children:e.jsxs("span",{className:"text-blue-600",children:["SIREN ",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx(m,{children:e.jsx(b,{placeholder:"123 456 789",inputMode:"numeric",className:`
                        h-12 text-base
                        bg-white border border-gray-300 rounded-lg 
                        px-4 py-3
                        placeholder-gray-500
                        hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100
                        transition-all duration-200
                        touch-manipulation
                      `,...s})}),e.jsx(x,{className:"text-xs text-red-600"})]})})]}),I==="collectivite"&&e.jsxs("div",{className:"p-2 md:p-6 bg-emerald-50/80 rounded-lg border border-emerald-200/60 md:grid md:grid-cols-2 md:gap-4","data-form-section":"collectivite",children:[e.jsxs("div",{className:"text-xs md:text-sm text-emerald-700 font-medium mb-2 md:col-span-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Informations collectivitÃ©"]}),e.jsx(i,{control:r.control,name:"nomCollectivite",render:({field:s})=>e.jsxs(c,{className:"mb-0",style:{marginBottom:"0px",marginTop:"0px"},"data-field":"nomCollectivite",children:[e.jsx(d,{className:"text-sm font-medium text-gray-700 mb-1",style:{marginBottom:"4px"},children:e.jsxs("span",{className:"text-blue-600",children:["Nom de la collectivitÃ© ",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx(m,{children:e.jsx(b,{placeholder:"Nom de votre collectivitÃ©",className:`
                        h-12 text-base
                        bg-white border border-gray-300 rounded-lg 
                        px-4 py-3
                        placeholder-gray-500
                        hover:border-emerald-400 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100
                        transition-all duration-200
                        touch-manipulation
                      `,...s})}),e.jsx(x,{className:"text-xs text-red-600"})]})}),e.jsx(i,{control:r.control,name:"sirenCollectivite",render:({field:s})=>e.jsxs(c,{className:"mb-0 mt-0",style:{marginBottom:"0px",marginTop:"0px"},"data-field":"sirenCollectivite",children:[e.jsx(d,{className:"text-sm font-medium text-gray-700 mb-1",style:{marginBottom:"4px"},children:e.jsxs("span",{className:"text-blue-600",children:["SIREN ",e.jsx("span",{className:"text-red-500",children:"*"})]})}),e.jsx(m,{children:e.jsx(b,{placeholder:"123 456 789",inputMode:"numeric",className:`
                        h-12 text-base
                        bg-white border border-gray-300 rounded-lg 
                        px-4 py-3
                        placeholder-gray-500
                        hover:border-emerald-400 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100
                        transition-all duration-200
                        touch-manipulation
                      `,...s})}),e.jsx(x,{className:"text-xs text-red-600"})]})})]})]})]}),oe=()=>e.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl shadow-sm border border-gray-100 p-4 md:p-8",children:[e.jsxs("div",{className:"mb-3 md:mb-6",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-semibold text-gray-900 mb-1 tracking-tight",children:"DÃ©tails du projet"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600 leading-relaxed",children:"Informations sur votre projet de raccordement Ã©lectrique"})]}),e.jsxs("div",{className:"space-y-0 md:space-y-3",children:[e.jsxs("div",{className:"space-y-1 md:space-y-3",children:[e.jsxs("h3",{className:"text-sm md:text-lg font-medium text-gray-900 flex items-center gap-2 mb-1",children:[e.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Adresse du projet"]}),e.jsx(i,{control:r.control,name:"adresseProjet",render:({field:s})=>e.jsxs(c,{className:"space-y-1",children:[e.jsxs(d,{className:"text-sm font-medium text-gray-700 mb-1 block",children:[e.jsx("span",{className:"text-blue-600",children:"Adresse complÃ¨te du projet"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{children:e.jsx(b,{placeholder:"12 avenue de la RÃ©publique",autoComplete:"street-address",className:"h-12 text-base bg-white border border-gray-300 rounded-lg px-4 py-3 placeholder-gray-500 hover:border-green-400 focus:border-green-500 focus:ring-2 focus:ring-green-100 transition-all duration-200 touch-manipulation",...s})}),e.jsx(x,{className:"text-xs text-red-600"})]})}),e.jsx(i,{control:r.control,name:"complementAdresseProjet",render:({field:s})=>e.jsxs(c,{className:"space-y-1",children:[e.jsx(d,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"ComplÃ©ment d'adresse du projet"}),e.jsx(m,{children:e.jsx(b,{placeholder:"PrÃ©cisions sur l'emplacement du projet...",autoComplete:"address-line2",className:"h-12 text-base bg-white border border-gray-300 rounded-lg px-4 py-3 placeholder-gray-500 hover:border-green-400 focus:border-green-500 focus:ring-2 focus:ring-green-100 transition-all duration-200 touch-manipulation",...s})}),e.jsx(x,{className:"text-xs text-red-600"})]})}),e.jsxs("div",{className:"space-y-4 md:grid md:grid-cols-2 md:gap-6 md:space-y-0 mt-6",children:[e.jsx(i,{control:r.control,name:"codePostalProjet",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsxs(d,{className:"text-sm font-medium text-gray-700 mb-2 block",children:[e.jsx("span",{className:"text-blue-600",children:"Code postal du projet"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{children:e.jsx(b,{placeholder:"75001",autoComplete:"postal-code",inputMode:"numeric",pattern:"[0-9]*",maxLength:5,className:"h-12 text-base bg-white border border-gray-300 rounded-lg px-4 py-3 placeholder-gray-500 hover:border-green-400 focus:border-green-500 focus:ring-2 focus:ring-green-100 transition-all duration-200 touch-manipulation",...s,onChange:t=>{s.onChange(t),O(t.target.value,!1)}})}),e.jsx(x,{className:"text-xs text-red-600"})]})}),e.jsx(i,{control:r.control,name:"villeProjet",render:({field:s})=>e.jsxs(c,{className:"space-y-2 mb-4 md:mb-auto",children:[e.jsxs(d,{className:"text-sm font-medium text-gray-700 mb-2 block",children:[e.jsx("span",{className:"text-blue-600",children:"Ville du projet"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{children:e.jsxs("div",{className:"relative",children:[e.jsx(b,{placeholder:"Ville du projet",autoComplete:"address-level2",className:"h-12 text-base bg-white border border-gray-300 rounded-lg px-4 py-3 pr-10 placeholder-gray-500 hover:border-green-400 focus:border-green-500 focus:ring-2 focus:ring-green-100 transition-all duration-200 touch-manipulation",...s}),K&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsxs("svg",{className:"w-4 h-4 text-green-500 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})}),e.jsx(x,{className:"text-xs text-red-600 mb-0"})]})})]})]}),e.jsxs("div",{className:"mt-6 mb-6 md:mt-6 md:mb-6","data-testid":"facturation-toggle",children:[e.jsx(i,{control:r.control,name:"facturationDifferente",render:({field:s})=>e.jsx(c,{className:"space-y-2",children:e.jsxs("div",{onClick:()=>s.onChange(!s.value),className:`
                    flex items-center justify-between p-5 rounded-xl border-2 cursor-pointer transition-all duration-300 touch-manipulation
                    ${s.value?"bg-green-50 border-green-500 shadow-lg hover:shadow-xl":"bg-gray-50 border-gray-300 hover:bg-green-50/30 hover:border-green-400 shadow-md hover:shadow-lg"}
                  `,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("svg",{className:`w-6 h-6 flex-shrink-0 transition-colors duration-300 ${s.value?"text-green-600":"text-gray-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsxs("div",{children:[e.jsx("span",{className:`text-base font-semibold transition-colors duration-300 ${s.value?"text-green-800":"text-gray-700"}`,children:"Utiliser une adresse de facturation diffÃ©rente"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.value?"Adresse de facturation personnalisÃ©e activÃ©e":"Cliquez pour utiliser une adresse diffÃ©rente"})]})]}),e.jsx("div",{className:`
                    relative w-14 h-8 rounded-full transition-all duration-300 flex-shrink-0
                    ${s.value?"bg-green-500":"bg-gray-400"}
                  `,children:e.jsx("div",{className:`
                      absolute top-1 w-6 h-6 bg-white rounded-full shadow-md transition-transform duration-300
                      ${s.value?"transform translate-x-6":"transform translate-x-1"}
                    `})})]})})}),r.watch("facturationDifferente")&&e.jsxs("div",{className:"space-y-1 p-3 bg-blue-50/50 rounded-lg border border-blue-200/60",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Adresse de facturation"}),e.jsx(i,{control:r.control,name:"adresseFacturation",render:({field:s})=>e.jsxs(c,{className:"space-y-1",children:[e.jsxs(d,{className:"text-sm font-medium text-gray-700 mb-1 block",children:[e.jsx("span",{className:"text-blue-600",children:"Adresse complÃ¨te de facturation"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{children:e.jsx(b,{placeholder:"123 rue de la RÃ©publique",autoComplete:"billing-address-line1",className:"h-12 text-base bg-white border border-gray-300 rounded-lg px-4 py-3 placeholder-gray-500 hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all duration-200 touch-manipulation",...s})}),e.jsx(x,{className:"text-xs text-red-600"})]})}),e.jsx(i,{control:r.control,name:"complementAdresse",render:({field:s})=>e.jsxs(c,{className:"space-y-1",children:[e.jsx(d,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"ComplÃ©ment d'adresse"}),e.jsx(m,{children:e.jsx(b,{placeholder:"BÃ¢timent, Ã©tage, appartement...",autoComplete:"billing-address-line2",className:"h-12 text-base bg-white border border-gray-300 rounded-lg px-4 py-3 placeholder-gray-500 hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all duration-200 touch-manipulation",...s})}),e.jsx(x,{className:"text-xs text-red-600"})]})}),e.jsxs("div",{className:"space-y-1 md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[e.jsx(i,{control:r.control,name:"codePostal",render:({field:s})=>e.jsxs(c,{className:"space-y-1",children:[e.jsxs(d,{className:"text-sm font-medium text-gray-700 mb-1 block",children:[e.jsx("span",{className:"text-blue-600",children:"Code postal"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{children:e.jsx(b,{placeholder:"75001",autoComplete:"billing-postal-code",inputMode:"numeric",pattern:"[0-9]*",maxLength:5,className:"h-12 text-base bg-white border border-gray-300 rounded-lg px-4 py-3 placeholder-gray-500 hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all duration-200 touch-manipulation",...s,onChange:t=>{s.onChange(t),O(t.target.value,!0)}})}),e.jsx(x,{className:"text-xs text-red-600"})]})}),e.jsx(i,{control:r.control,name:"ville",render:({field:s})=>e.jsxs(c,{className:"space-y-1",children:[e.jsxs(d,{className:"text-sm font-medium text-gray-700 mb-1 block",children:[e.jsx("span",{className:"text-blue-600",children:"Ville"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{children:e.jsxs("div",{className:"relative",children:[e.jsx(b,{placeholder:"Ville",autoComplete:"billing-address-level2",className:"h-12 text-base bg-white border border-gray-300 rounded-lg px-4 py-3 pr-10 placeholder-gray-500 hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all duration-200 touch-manipulation",...s}),S&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsxs("svg",{className:"w-4 h-4 text-blue-500 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})}),e.jsx(x,{className:"text-xs text-red-600"})]})})]})]})]}),e.jsxs("div",{className:"space-y-6 md:grid md:grid-cols-2 md:gap-8 md:space-y-0 mt-6 md:mt-6",children:[e.jsx(i,{control:r.control,name:"typeRaccordement",render:({field:s})=>e.jsxs(c,{className:"space-y-2",children:[e.jsxs(d,{className:"text-sm md:text-base font-semibold text-gray-800 mb-2",children:[e.jsx("span",{className:"text-blue-600",children:"Type de raccordement"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(z,{onValueChange:s.onChange,value:s.value,children:[e.jsx(m,{children:e.jsx(R,{className:"h-14 border-gray-300 bg-white hover:border-blue-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-400 transition-colors text-base font-medium",children:e.jsx(B,{placeholder:"Type de raccordement",className:"text-gray-700"})})}),e.jsxs(F,{className:"bg-white border-2 border-gray-200 rounded-2xl shadow-2xl max-h-80 overflow-y-auto",children:[e.jsx(u,{value:"nouveau",className:"h-14 px-4 py-3 hover:bg-blue-50 focus:bg-blue-50 cursor-pointer",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Nouveau raccordement"}),e.jsx("div",{className:"text-sm text-gray-600",children:"PremiÃ¨re installation Ã©lectrique"})]})}),e.jsx(u,{value:"provisoire",className:"h-14 px-4 py-3 hover:bg-orange-50 focus:bg-orange-50 cursor-pointer",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Raccordement provisoire"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Installation temporaire (chantier, Ã©vÃ©nement)"})]})}),e.jsx(u,{value:"augmentation",className:"h-14 px-4 py-3 hover:bg-green-50 focus:bg-green-50 cursor-pointer",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Augmentation de puissance"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Modifier la puissance existante"})]})}),e.jsx(u,{value:"deplacement",className:"h-14 px-4 py-3 hover:bg-purple-50 focus:bg-purple-50 cursor-pointer",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"DÃ©placement de compteur"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Changer l'emplacement du compteur"})]})}),e.jsx(u,{value:"autre",className:"h-14 px-4 py-3 hover:bg-gray-50 focus:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Autre demande"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Situation particuliÃ¨re Ã  prÃ©ciser"})]})})]})]}),e.jsx(x,{})]})}),ee==="autre"&&e.jsx("div",{className:"md:col-span-2",children:e.jsx(i,{control:r.control,name:"autreTypeRaccordement",render:({field:s})=>e.jsxs(c,{className:"space-y-1.5",children:[e.jsxs(d,{className:"text-sm md:text-base font-semibold text-gray-800 flex items-center gap-2 mb-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-blue-600",children:"PrÃ©cisez le type de raccordement"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{children:e.jsx("textarea",{placeholder:"DÃ©crivez prÃ©cisÃ©ment votre type de raccordement, vos besoins spÃ©cifiques et toute information complÃ©mentaire...",rows:3,className:`
                          min-h-[80px] text-base resize-none
                          bg-white border border-orange-300 rounded-lg 
                          px-3 md:px-4 py-2.5 md:py-3
                          placeholder-gray-500
                          hover:border-orange-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-100
                          transition-all duration-200
                          touch-manipulation
                          w-full
                        `,...s})}),e.jsx(x,{className:"text-xs text-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exemple: raccordement temporaire pour chantier, raccordement pour borne de recharge, etc."})]})})}),e.jsx(i,{control:r.control,name:"typeProjet",render:({field:s})=>e.jsxs(c,{className:"space-y-2 mb-4 md:mb-auto",children:[e.jsxs(d,{className:"text-sm md:text-base font-semibold text-gray-800 mb-2",children:[e.jsx("span",{className:"text-blue-600",children:"Type de projet"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(z,{onValueChange:s.onChange,value:s.value,children:[e.jsx(m,{children:e.jsx(R,{className:"h-14 border-gray-300 bg-white hover:border-blue-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-400 transition-colors text-base font-medium",children:e.jsx(B,{placeholder:"Type de projet",className:"text-gray-700"})})}),e.jsxs(F,{className:"bg-white border-2 border-gray-200 rounded-2xl shadow-2xl max-h-80 overflow-y-auto",children:[e.jsx(u,{value:"maison",className:"h-16 md:h-14 px-4 py-3 hover:bg-blue-50 focus:bg-blue-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Maison individuelle"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Habitation unifamiliale, villa"})]})]})}),e.jsx(u,{value:"immeuble",className:"h-16 md:h-14 px-4 py-3 hover:bg-purple-50 focus:bg-purple-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-purple-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Immeuble collectif"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Appartements, rÃ©sidence, copropriÃ©tÃ©"})]})]})}),e.jsx(u,{value:"commercial",className:"h-16 md:h-14 px-4 py-3 hover:bg-orange-50 focus:bg-orange-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Local commercial"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Magasin, bureau, restaurant"})]})]})}),e.jsx(u,{value:"industriel",className:"h-16 md:h-14 px-4 py-3 hover:bg-red-50 focus:bg-red-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Site industriel"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Usine, entrepÃ´t, atelier"})]})]})}),e.jsx(u,{value:"terrain",className:"h-16 md:h-14 px-4 py-3 hover:bg-green-50 focus:bg-green-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("svg",{className:"w-4 h-4 text-green-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 21v-7a1 1 0 00-1-1h-4a1 1 0 00-1 1v7"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 9h1m0 0h1m-1 0v1m0-1V8"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Terrain nu"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Terrain Ã  bÃ¢tir, construction future"})]})]})})]})]}),e.jsx(x,{className:"mb-0"})]})}),r.watch("typeProjet")==="terrain"&&e.jsx("div",{className:"md:col-span-2",children:e.jsx(i,{control:r.control,name:"terrainViabilise",render:({field:s})=>e.jsxs(c,{className:"space-y-1.5",children:[e.jsxs(d,{className:"text-sm md:text-base font-semibold text-gray-800 flex items-center gap-2 mb-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Le terrain est-il viabilisÃ© ? *"]}),e.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200 mb-3",children:e.jsx("p",{className:"text-sm text-green-800",children:"Un terrain viabilisÃ© dispose dÃ©jÃ  des accÃ¨s aux rÃ©seaux (eau, Ã©lectricitÃ©, assainissement). Cela impacte le coÃ»t et le dÃ©lai de raccordement."})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx("div",{onClick:()=>s.onChange(!0),className:`
                            relative cursor-pointer rounded-xl p-4 border-2 transition-all duration-200 
                            ${s.value===!0?"border-green-500 bg-green-50 shadow-md":"border-gray-300 bg-white hover:border-green-300"}
                          `,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-green-500 flex items-center justify-center",children:s.value===!0&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Oui, viabilisÃ©"}),e.jsx("div",{className:"text-xs text-gray-600",children:"RÃ©seaux dÃ©jÃ  prÃ©sents"})]})]})}),e.jsx("div",{onClick:()=>s.onChange(!1),className:`
                            relative cursor-pointer rounded-xl p-4 border-2 transition-all duration-200 
                            ${s.value===!1?"border-orange-500 bg-orange-50 shadow-md":"border-gray-300 bg-white hover:border-orange-300"}
                          `,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-orange-500 flex items-center justify-center",children:s.value===!1&&e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Non viabilisÃ©"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Aucun rÃ©seau prÃ©sent"})]})]})})]})}),e.jsx(x,{})]})})}),e.jsx(i,{control:r.control,name:"typeAlimentation",render:({field:s})=>e.jsxs(c,{className:"space-y-1.5",children:[e.jsxs(d,{className:"text-sm md:text-base font-semibold text-gray-800 mb-1.5",children:[e.jsx("span",{className:"text-blue-600",children:"Type d'alimentation"})," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx("div",{onClick:()=>s.onChange("monophase"),className:`
                      relative cursor-pointer rounded-xl p-4 border-2 transition-all duration-200 
                      ${s.value==="monophase"?"border-blue-500 bg-blue-50 shadow-md":"border-gray-300 bg-white hover:border-blue-300 hover:bg-blue-25"}
                    `,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-blue-500 flex items-center justify-center",children:s.value==="monophase"&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"MonophasÃ©"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Habitations standard (3-12 kVA)"})]})]})}),e.jsx("div",{onClick:()=>s.onChange("triphase"),className:`
                      relative cursor-pointer rounded-xl p-4 border-2 transition-all duration-200 
                      ${s.value==="triphase"?"border-blue-500 bg-blue-50 shadow-md":"border-gray-300 bg-white hover:border-blue-300 hover:bg-blue-25"}
                    `,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-blue-500 flex items-center justify-center",children:s.value==="triphase"&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"TriphasÃ©"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Puissances Ã©levÃ©es (12-36 kVA)"})]})]})}),e.jsx("div",{onClick:()=>s.onChange("inconnu"),className:`
                      relative cursor-pointer rounded-xl p-4 border-2 transition-all duration-200 
                      ${s.value==="inconnu"||!s.value?"border-orange-500 bg-orange-50 shadow-md":"border-gray-300 bg-white hover:border-orange-300 hover:bg-orange-25"}
                    `,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-orange-500 flex items-center justify-center",children:(s.value==="inconnu"||!s.value)&&e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Je ne connais pas ma puissance"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nous vous conseillerons selon votre projet"})]})]})})]}),e.jsx(x,{})]})}),r.watch("typeAlimentation")&&r.watch("typeAlimentation")!=="inconnu"&&e.jsx(i,{control:r.control,name:"puissance",render:({field:s})=>e.jsxs(c,{className:"space-y-3",children:[e.jsxs(d,{className:"text-base font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-600 rounded-full"}),"Puissance demandÃ©e (kVA) *",e.jsx("div",{className:"ml-2 w-6 h-6 md:w-5 md:h-5 flex items-center justify-center rounded-full bg-blue-100 hover:bg-blue-200 transition-all duration-200 cursor-help touch-manipulation",title:"Aide pour choisir la puissance selon votre logement",children:e.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 text-blue-600",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}),r.watch("typeAlimentation")==="monophase"&&e.jsxs(z,{onValueChange:s.onChange,value:s.value,children:[e.jsx(m,{children:e.jsx(R,{className:"h-14 md:h-12 bg-white border-2 border-gray-300 rounded-xl shadow-sm hover:border-blue-500 focus:border-blue-600 focus:ring-2 focus:ring-blue-100 transition-all duration-200 text-gray-700 font-medium touch-manipulation",children:e.jsx(B,{placeholder:"Choisissez votre puissance",className:"text-gray-500"})})}),e.jsxs(F,{className:"bg-white border-2 border-gray-200 rounded-2xl shadow-2xl max-h-80 overflow-y-auto",children:[e.jsx(u,{value:"3",className:"h-16 md:h-14 px-4 py-3 hover:bg-blue-50 focus:bg-blue-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"3 kVA"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Studio/T1"})]})]})}),e.jsx(u,{value:"6",className:"h-16 md:h-14 px-4 py-3 hover:bg-blue-50 focus:bg-blue-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"6 kVA"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Appartement T2/T3"})]})]})}),e.jsx(u,{value:"9",className:"h-16 md:h-14 px-4 py-3 hover:bg-blue-50 focus:bg-blue-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"9 kVA"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Maison T4/T5"})]})]})}),e.jsx(u,{value:"12",className:"h-16 md:h-14 px-4 py-3 hover:bg-blue-50 focus:bg-blue-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"12 kVA"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Grande maison"})]})]})})]})]}),r.watch("typeAlimentation")==="triphase"&&e.jsxs(z,{onValueChange:s.onChange,value:s.value,children:[e.jsx(m,{children:e.jsx(R,{className:"h-14 md:h-12 bg-white border-2 border-gray-300 rounded-xl shadow-sm hover:border-blue-500 focus:border-blue-600 focus:ring-2 focus:ring-blue-100 transition-all duration-200 text-gray-700 font-medium touch-manipulation",children:e.jsx(B,{placeholder:"Choisissez votre puissance",className:"text-gray-500"})})}),e.jsxs(F,{className:"bg-white border-2 border-gray-200 rounded-2xl shadow-2xl max-h-80 overflow-y-auto",children:[e.jsx(u,{value:"12",className:"h-16 md:h-14 px-4 py-3 hover:bg-green-50 focus:bg-green-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"12 kVA"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Grande maison"})]})]})}),e.jsx(u,{value:"18",className:"h-16 md:h-14 px-4 py-3 hover:bg-green-50 focus:bg-green-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"18 kVA"}),e.jsx("div",{className:"text-xs text-gray-600",children:"TrÃ¨s grande maison"})]})]})}),e.jsx(u,{value:"24",className:"h-16 md:h-14 px-4 py-3 hover:bg-orange-50 focus:bg-orange-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-orange-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"24 kVA"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Usage intensif"})]})]})}),e.jsx(u,{value:"36",className:"h-16 md:h-14 px-4 py-3 hover:bg-purple-50 focus:bg-purple-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-purple-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"36 kVA"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Usage professionnel"})]})]})}),e.jsx(u,{value:"36-tarif-jaune",className:"h-16 md:h-14 px-4 py-3 hover:bg-yellow-50 focus:bg-yellow-50 cursor-pointer border-l-4 border-yellow-400",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-4 h-4 text-yellow-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"36 kVA - Tarif jaune"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Usage professionnel intensif"})]}),e.jsx("span",{className:"px-2 py-1 text-xs font-bold text-yellow-800 bg-yellow-200 rounded-full",children:"JAUNE"})]})})]})]}),e.jsx(x,{})]})})]})]})]}),ie=()=>e.jsxs("div",{className:"bg-white rounded-lg md:rounded-xl shadow-sm border border-gray-100 p-4 md:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2 tracking-tight",children:"Validation de votre Raccordement Enedis"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"VÃ©rifiez vos informations avant envoi de la demande"}),e.jsx("div",{className:"w-16 h-0.5 bg-gradient-to-r from-blue-600 to-red-600 mt-2 rounded-full"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(M,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"RÃ©capitulatif de votre demande"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Informations personnelles"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Nom complet:"}),e.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[r.getValues("prenom")," ",r.getValues("nom")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Type de client:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800 capitalize",children:r.getValues("clientType")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("email")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"TÃ©lÃ©phone:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("phone")})]}),r.getValues("raisonSociale")&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Entreprise:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("raisonSociale")})]}),r.getValues("siren")&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"SIREN:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("siren")})]}),r.getValues("nomCollectivite")&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"CollectivitÃ©:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("nomCollectivite")})]}),r.getValues("sirenCollectivite")&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"SIREN CollectivitÃ©:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("sirenCollectivite")})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),"Adresse du projet"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Adresse:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("adresseProjet")})]}),r.getValues("complementAdresseProjet")&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ComplÃ©ment:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("complementAdresseProjet")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Code postal:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("codePostalProjet")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Ville:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("villeProjet")})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full"}),"DÃ©tails du raccordement"]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Type de raccordement:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800 capitalize",children:r.getValues("typeRaccordement")==="autre"?r.getValues("autreTypeRaccordement")||"Autre":r.getValues("typeRaccordement")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Type de projet:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800 capitalize",children:r.getValues("typeProjet")})]}),r.getValues("typeAlimentation")!=="inconnu"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Type d'alimentation:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800 capitalize",children:r.getValues("typeAlimentation")})]}),r.getValues("typeAlimentation")!=="inconnu"&&r.getValues("puissance")&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Puissance demandÃ©e:"}),e.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[r.getValues("puissance")," kVA"]})]}),r.getValues("typeProjet")==="terrain"&&r.getValues("terrainViabilise")!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Terrain viabilisÃ©:"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:r.getValues("terrainViabilise")?"Oui":"Non"})]})]})]}),r.getValues("adresseFacturationDifferente")&&r.getValues("adresseFacturation")&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-5 border border-orange-200/30 shadow-sm",children:[e.jsxs("h4",{className:"font-semibold text-orange-900 mb-4 flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center shadow-sm",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),"ðŸ’³ Adresse de facturation"]}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-200",children:e.jsx("p",{className:"text-sm font-bold text-purple-900",children:r.getValues("adresseFacturation")})})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(i,{control:r.control,name:"consentementTraitement",render:({field:s})=>e.jsxs(c,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-4 border-2 border-gray-200 rounded-lg bg-blue-50/30",children:[e.jsx(m,{children:e.jsx(ge,{checked:s.value||!1,onCheckedChange:t=>{s.onChange(t===!0)},className:"mt-1 h-5 w-5 border-2 border-blue-600 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(d,{className:"text-sm font-semibold text-gray-900 leading-relaxed",children:[e.jsx("span",{className:"text-blue-600",children:"J'accepte les conditions gÃ©nÃ©rales et la politique de confidentialitÃ©"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Je souhaite que la prestation dÃ©bute avant l'expiration du dÃ©lai de rÃ©tractation lÃ©gale."})]})]}),e.jsx(x,{})]})})})]});return e.jsxs("div",{className:`min-h-screen py-8 sm:py-12 px-4 main-form-container ${j?"bg-slate-50":"bg-gradient-to-br from-slate-50 via-blue-50/30 to-red-50/20"}`,children:[e.jsxs("div",{className:"max-w-4xl mx-auto critical-content",children:[e.jsxs("div",{className:`bg-white/80 rounded-2xl border border-white/50 p-4 sm:p-6 mb-6 relative overflow-hidden ${j?"shadow-sm":"backdrop-blur-sm shadow-lg"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-white/5 to-red-600/5 pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-white to-red-600 h-3 rounded-full transition-all duration-1000 ease-out shadow-sm relative",style:{width:`${a/3*100}%`}}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-2",children:[e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${a>=1?"bg-blue-600 text-white shadow-md":"bg-gray-300 text-gray-500"}`,children:a>1?e.jsx(M,{className:"w-3 h-3 sm:w-4 sm:h-4"}):"1"}),e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${a>=2?"bg-gray-600 text-white shadow-md border border-white sm:border-2":"bg-gray-300 text-gray-500"}`,children:a>2?e.jsx(M,{className:"w-3 h-3 sm:w-4 sm:h-4"}):"2"}),e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${a>=3?"bg-red-600 text-white shadow-md":"bg-gray-300 text-gray-500"}`,children:e.jsx(M,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsx("span",{className:`transition-colors duration-300 ${a>=1?"text-blue-700 font-medium":""}`,children:"Informations personnelles"}),e.jsx("span",{className:`transition-colors duration-300 ${a>=2?"text-gray-700 font-medium":""}`,children:"DÃ©tails du projet"}),e.jsx("span",{className:`transition-colors duration-300 ${a>=3?"text-red-700 font-medium":""}`,children:"Validation et envoi"})]})]})]}),e.jsx(de,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(_),className:"space-y-1 md:space-y-4",children:[a===1&&le(),a===2&&oe(),a===3&&ie(),e.jsxs("div",{className:"flex justify-between items-center pt-0",children:[e.jsxs(q,{type:"button",variant:"outline",onClick:ne,disabled:a===1,className:"flex items-center gap-2 px-6 py-3 border-2 border-blue-300 text-blue-700 hover:bg-blue-50 hover:border-blue-400 transition-all duration-300 font-medium disabled:opacity-50",children:[e.jsx(pe,{className:"w-4 h-4"}),"PrÃ©cÃ©dent"]}),a<3?e.jsxs(q,{type:"button",onClick:re,className:"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 hover:from-blue-700 hover:via-blue-800 hover:to-blue-900 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] font-medium",children:["Suivant",e.jsx(me,{className:"w-4 h-4"})]}):e.jsx(q,{type:"submit",disabled:p||!r.watch("consentementTraitement"),onClick:async s=>{console.log("ðŸ”¥ Bouton cliquÃ©!",{isSubmitting:p,consentement:r.watch("consentementTraitement"),formValid:r.formState.isValid,errors:r.formState.errors,allValues:r.getValues()});const t=await r.trigger();if(console.log("ðŸ“ Validation forcÃ©e:",t,r.formState.errors),!t){console.error("âŒ Formulaire invalide:",r.formState.errors);return}t&&r.watch("consentementTraitement")&&(console.log("âœ… DÃ©clenchement manuel de la soumission"),r.handleSubmit(_)())},className:`flex items-center gap-2 px-10 py-3 font-bold text-white shadow-lg transition-all duration-300 transform hover:scale-[1.02] ${p||!r.watch("consentementTraitement")?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 via-green-700 to-green-800 hover:from-green-700 hover:via-green-800 hover:to-green-900 hover:shadow-xl"}`,children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Envoi en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Envoyer la demande"]})})]})]})}),e.jsx("div",{className:"mt-8 mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-l-4 border-green-500 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"DifficultÃ©s avec le formulaire ?"}),e.jsx("p",{className:"text-green-700 text-sm leading-relaxed mb-4",children:"Si vous rencontrez des difficultÃ©s pour remplir ce formulaire ou avez des questions sur votre raccordement Ã©lectrique, notre Ã©quipe d'experts est joignable pour vous assister gratuitement. Nous sommes lÃ  pour vous accompagner dans votre dÃ©marche."}),e.jsx("div",{className:"flex justify-start",children:e.jsxs("a",{href:"tel:0970709570",onClick:()=>{typeof window<"u"&&window.gtag&&window.gtag("event","phone_call",{event_category:"engagement",event_label:"contact_phone_form_assistance"})},className:"inline-flex items-center justify-center px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors gap-2 min-h-[44px] touch-manipulation shadow-md hover:shadow-lg",children:[e.jsx(G,{className:"w-4 h-4"}),"09 70 70 95 70 - Assistance gratuite"]})})]})]})})})]}),k&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:()=>C(!1)}),e.jsxs("div",{className:"relative w-full max-w-md mx-auto bg-white rounded-2xl shadow-2xl transform transition-all duration-300 scale-100 animate-in slide-in-from-bottom-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-700 to-gray-800 text-white p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(X,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Centre d'Aide Raccordement"}),e.jsx("p",{className:"text-gray-200 text-sm",children:"RÃ©ponse sous 24h garantie"})]})]}),e.jsx("button",{onClick:()=>C(!1),className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:e.jsx(Z,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 mb-3",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Suivi personnalisÃ© garanti"})]}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Notre Ã©quipe technique vous accompagne dans votre projet de raccordement. Posez votre question, nous vous rÃ©pondrons rapidement."})]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),console.log("Support request:",y),C(!1),alert("Votre message a Ã©tÃ© envoyÃ© ! Nous vous rÃ©pondrons sous 24h.")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Votre nom *"}),e.jsx("input",{type:"text",required:!0,value:y.name,onChange:s=>f({...y,name:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all",placeholder:"Votre nom complet"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de contact *"}),e.jsx("input",{type:"email",required:!0,value:y.email,onChange:s=>f({...y,email:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all",placeholder:"votre@email.fr"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Votre question"}),e.jsx("textarea",{required:!0,rows:4,value:y.message,onChange:s=>f({...y,message:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-all resize-none",placeholder:"DÃ©crivez votre question ou problÃ¨me concernant votre raccordement..."})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Annuler"}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-800 text-white rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4"}),"Envoyer"]})]})]})]})]})]}),h&&e.jsx("div",{className:"non-critical-content",children:e.jsx(fe,{})})]})}export{Pe as default};
