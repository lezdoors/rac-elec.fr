import{u as w,r as c,j as e,H as y,p as C,x as E,P as u,B as d,M as k,A as _}from"./index-D0aNDh5L.js";import{C as p,a as f,b as j,d as g}from"./card-g2bqyuJH.js";import{c as i}from"./analytics-D0bcXdPk.js";import{D as R}from"./download-Dsb6b2ke.js";function V({}){const[b,o]=w(),[t,m]=c.useState(""),[S,x]=c.useState(null);c.useEffect(()=>{window.scrollTo(0,0)},[]),c.useEffect(()=>{const r=new URLSearchParams(window.location.search),l=r.get("reference")||r.get("ref"),h=r.get("session_id"),a=r.get("amount");if(l){m(l),x({transaction_id:l,value:a?parseFloat(a):129.8,currency:"EUR",items:[{item_id:"raccordement-enedis",item_name:"Service de raccordement Enedis",category:"Services",quantity:1,price:a?parseFloat(a):129.8}]});return}h&&(async()=>{try{const n=await fetch(`/api/stripe-session/${h}`),s=await n.json();n.ok&&s.success&&s.referenceNumber&&(m(s.referenceNumber),x({transaction_id:s.referenceNumber,value:s.amount||129.8,currency:"EUR",items:[{item_id:"raccordement-enedis",item_name:"Service de raccordement Enedis",category:"Services",quantity:1,price:s.amount||129.8}]}))}catch(n){console.error("❌ Erreur lors de la récupération de la session Stripe:",n)}})()},[b]);const N=()=>{i("download","receipt",t),console.log("Download receipt for:",t)},v=()=>{i("contact","support","phone")};return e.jsxs(e.Fragment,{children:[e.jsxs(y,{children:[e.jsx("title",{children:"Merci pour votre commande - Raccordement Enedis confirmé"}),e.jsx("meta",{name:"description",content:"Votre demande de raccordement Enedis a été confirmée. Suivez l'avancement de votre dossier."}),e.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-white",children:e.jsx("div",{className:"container mx-auto px-4 py-6 md:py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6",children:e.jsx(C,{className:"w-8 h-8 md:w-12 md:h-12 text-white"})}),e.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 md:mb-4 px-2",children:"Merci pour votre commande !"}),e.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-2 px-2",children:"Votre demande de raccordement Enedis a été confirmée"}),t&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 md:p-4 mx-4 md:mx-auto max-w-md",children:e.jsxs("p",{className:"text-base md:text-lg font-semibold text-blue-600",children:["Référence : ",t]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 mb-8 md:mb-12",children:[e.jsxs(p,{className:"shadow-lg",children:[e.jsx(f,{children:e.jsxs(j,{className:"flex items-center text-xl",children:[e.jsx(E,{className:"w-6 h-6 mr-3 text-blue-600"}),"Prochaines étapes"]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:"1"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Confirmation par email"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Vous recevrez un email de confirmation dans les prochaines minutes"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:"2"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Traitement du dossier"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Notre équipe traite votre demande sous 24-48h ouvrables"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:"3"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Coordination Enedis"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Nous coordonnons directement avec Enedis pour votre raccordement"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-green-600 font-semibold text-sm",children:"4"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Planification des travaux"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Enedis vous contacte pour planifier l'intervention"})]})]})]})]}),e.jsxs(p,{className:"shadow-lg",children:[e.jsx(f,{children:e.jsxs(j,{className:"flex items-center text-xl",children:[e.jsx(u,{className:"w-6 h-6 mr-3 text-green-600"}),"Contact & Documents"]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Reçu de paiement"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Téléchargez votre reçu de paiement pour vos dossiers"}),e.jsxs(d,{onClick:N,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Télécharger le reçu"]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Besoin d'aide ?"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Notre équipe est disponible pour répondre à vos questions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("a",{href:"tel:0970709570",onClick:v,className:"flex items-center text-green-600 hover:text-green-700 font-medium",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"09 70 70 95 70"]}),e.jsxs("a",{href:"mailto:support@demande-raccordement.fr",className:"flex items-center text-green-600 hover:text-green-700 font-medium",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"support@demande-raccordement.fr"]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:[e.jsx("p",{children:"Horaires : Lundi-Vendredi 9h-18h"}),e.jsx("p",{children:"Réponse garantie sous 24h"})]})]})]})]}),e.jsx("div",{className:"text-center space-y-4",children:e.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 rounded-lg mx-2 md:mx-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Vous avez d'autres projets ?"}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm md:text-base",children:"Profitez de notre expertise pour tous vos besoins de raccordement électrique"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[e.jsxs(d,{onClick:()=>{i("new_request","conversion","thank_you_page"),o("/raccordement-enedis")},variant:"outline",className:"w-full sm:w-auto","data-testid":"button-new-request",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Nouvelle demande"]}),e.jsx(d,{onClick:()=>{i("return_home","navigation","thank_you_page"),o("/")},variant:"ghost",className:"w-full sm:w-auto","data-testid":"button-return-home",children:"Retour à l'accueil"})]})]})})]})})})]})}export{V as default};
