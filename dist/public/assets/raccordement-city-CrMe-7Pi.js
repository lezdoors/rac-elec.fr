import{s as v,r,j as e,q as n,B as c,H as w,o as _,P as C,M as $,p as A}from"./index-BI6cNhMY.js";import{C as l,d as o,a as u,b as j}from"./card-BSDskV15.js";import{B as k}from"./badge-CV3FoBJD.js";import{A as E,a as S,b as L,c as R}from"./accordion-DNLVbiw0.js";import{r as q}from"./regions-QsQ19M-D.js";import{A as B}from"./arrow-left-ZIEl8SI2.js";import{M}from"./map-pin-j0HtPr1E.js";import"./index-7aaH7Lzu.js";import"./chevron-down-DTSY8BbO.js";function G(){const i=v().city,[s,g]=r.useState(null),[b,d]=r.useState(!0),[m,x]=r.useState(null);if(r.useEffect(()=>{(async()=>{try{const a=Object.entries(q).find(([D,N])=>N.cities.includes(i));if(!a){x("Ville non trouvée"),d(!1);return}const[p]=a,h=await fetch(`/content/geo/cities/${p}/${i}.json`);if(!h.ok)throw new Error("Données de la ville non trouvées");const y=await h.json();g(y)}catch(a){console.error("Error loading city data:",a),x("Erreur lors du chargement des données")}finally{d(!1)}})()},[i]),b)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement..."})]})});if(m||!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:m||"Ville non trouvée"}),e.jsx(n,{href:"/raccordement/",children:e.jsx(c,{children:"Retour à l'accueil"})})]})});const f=s.adjacent_cities.map(t=>({slug:t,name:t.replace("-"," ").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}));return e.jsxs(e.Fragment,{children:[e.jsxs(w,{children:[e.jsx("title",{children:s.meta_title}),e.jsx("meta",{name:"description",content:s.meta_description}),e.jsx("meta",{name:"keywords",content:`raccordement électrique, ${s.name}, enedis, ${s.postal_codes.join(", ")}`}),e.jsx("link",{rel:"canonical",href:`https://www.demande-raccordement.fr${s.canonical}`}),e.jsx("meta",{property:"og:title",content:s.meta_title}),e.jsx("meta",{property:"og:description",content:s.meta_description}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:`https://www.demande-raccordement.fr${s.canonical}`}),e.jsx("meta",{property:"og:site_name",content:"demande-raccordement.fr"}),e.jsx("meta",{property:"og:locale",content:"fr_FR"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:s.meta_title}),e.jsx("meta",{name:"twitter:description",content:s.meta_description}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"LocalBusiness","@id":s.schema_data.local_business_id,name:s.nap.business_name,description:`Service de raccordement électrique professionnel à ${s.name}`,address:{"@type":"PostalAddress",streetAddress:s.nap.address.split(",")[0],addressLocality:s.name,addressRegion:s.region_name,addressCountry:"FR"},geo:{"@type":"GeoCoordinates",latitude:s.schema_data.geo_coordinates.latitude,longitude:s.schema_data.geo_coordinates.longitude},telephone:s.nap.phone,email:s.nap.email,serviceArea:s.schema_data.service_area,priceRange:"€€",openingHours:Object.entries(s.nap.hours).map(([t,a])=>a!=="Fermé"?`${{monday:"Mo",tuesday:"Tu",wednesday:"We",thursday:"Th",friday:"Fr",saturday:"Sa",sunday:"Su"}[t]} ${a}`:null).filter(Boolean)})}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"FAQPage",mainEntity:s.faqs.map(t=>({"@type":"Question",name:t.question,acceptedAnswer:{"@type":"Answer",text:t.answer}}))})}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Raccordement Électrique",item:"https://www.demande-raccordement.fr/raccordement/"},{"@type":"ListItem",position:2,name:s.region_name,item:`https://www.demande-raccordement.fr/raccordement/${s.region}/`},{"@type":"ListItem",position:3,name:s.name,item:`https://www.demande-raccordement.fr${s.canonical}`}]})})]}),e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("nav",{className:"bg-gray-50 border-b py-3",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(n,{href:"/raccordement/",className:"hover:text-blue-600",children:"Raccordement Électrique"}),e.jsx("span",{children:"/"}),e.jsx(n,{href:`/raccordement/${s.region}/`,className:"hover:text-blue-600",children:s.region_name}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900",children:s.name})]})})}),e.jsx("section",{className:"bg-gradient-to-br from-blue-600 to-blue-800 text-white py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(n,{href:`/raccordement/${s.region}/`,className:"inline-flex items-center text-blue-200 hover:text-white mb-4",children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Retour à ",s.region_name]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:s.hero.h1}),e.jsx("p",{className:"text-lg md:text-xl text-blue-100 mb-6",children:s.hero.subtitle}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:s.hero.trust_indicators.map((t,a)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{className:"h-5 w-5 text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:t.replace("✅ ","")})]},a))}),e.jsx(c,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold",onClick:()=>{var t;return window.scrollTo({top:((t=document.getElementById("contact-form"))==null?void 0:t.offsetTop)||0,behavior:"smooth"})},children:"Commencer ma demande"})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Raccordement électrique à ",s.name]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:s.content.intro})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Notre processus à ",s.name]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:s.content.process})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pourquoi nous choisir ?"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:s.content.benefits})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Expertise locale"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:s.content.local_expertise})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Questions fréquentes à ",s.name]}),e.jsx(E,{type:"single",collapsible:!0,className:"space-y-2",children:s.faqs.map((t,a)=>e.jsxs(S,{value:`item-${a}`,className:"border rounded-lg px-4",children:[e.jsx(L,{className:"text-left font-medium",children:t.question}),e.jsx(R,{className:"text-gray-700 leading-relaxed",children:t.answer})]},a))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Nos services dans les villes proches"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:f.map(t=>e.jsx(n,{href:`/raccordement/${t.slug}/`,children:e.jsx(l,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:t.name}),e.jsx(k,{variant:"outline",className:"text-xs",children:"Disponible"})]})})})},t.slug))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsx(u,{children:e.jsxs(j,{className:"flex items-center",children:[e.jsx(M,{className:"mr-2 h-5 w-5 text-blue-600"}),"Contact local"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.nap.business_name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.nap.address})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:s.nap.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:s.nap.email})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium mb-2 flex items-center",children:[e.jsx(A,{className:"mr-2 h-4 w-4 text-blue-600"}),"Horaires"]}),e.jsx("div",{className:"text-sm space-y-1",children:Object.entries(s.nap.hours).map(([t,a])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"capitalize",children:t==="monday"?"Lundi":t==="tuesday"?"Mardi":t==="wednesday"?"Mercredi":t==="thursday"?"Jeudi":t==="friday"?"Vendredi":t==="saturday"?"Samedi":"Dimanche"}),e.jsx("span",{children:a})]},t))})]})]})]}),e.jsxs(l,{id:"contact-form",children:[e.jsx(u,{children:e.jsx(j,{children:"Commencer ma demande de raccordement"})}),e.jsx(o,{children:e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nom *"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Votre nom","data-testid":"input-nom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Téléphone *"}),e.jsx("input",{type:"tel",className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Votre téléphone","data-testid":"input-telephone"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),e.jsx("input",{type:"email",className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Votre email","data-testid":"input-email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type de projet *"}),e.jsxs("select",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500","data-testid":"select-type-projet",children:[e.jsx("option",{value:"",children:"Sélectionnez"}),e.jsx("option",{value:"particulier",children:"Particulier"}),e.jsx("option",{value:"professionnel",children:"Professionnel"}),e.jsx("option",{value:"collectivite",children:"Collectivité"})]})]}),e.jsx(c,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-submit-demande",children:"Commencer ma demande"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Réponse sous 24h • Accompagnement complet"})]})})]})]})]})})})]})]})}export{G as default};
