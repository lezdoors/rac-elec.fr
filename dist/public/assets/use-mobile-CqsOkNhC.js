import{j as d,g as Y,a5 as z,Y as H,O as Q,r as s,Q as W,T as q,a1 as J,w as P,U as p}from"./index-CtI9_f3l.js";import{a as X}from"./index-X7hvRruK.js";import{u as Z}from"./index-B6qX_rVB.js";const $=z("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",purple:"border-transparent bg-purple-100 text-purple-800 hover:bg-purple-200",blue:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-amber-100 text-amber-800 hover:bg-amber-200",info:"border-transparent bg-sky-100 text-sky-800 hover:bg-sky-200"}},defaultVariants:{variant:"default"}});function pe({className:e,variant:t,...r}){return d.jsx("div",{className:Y($({variant:t}),e),...r})}var S="rovingFocusGroup.onEntryFocus",ee={bubbles:!1,cancelable:!0},m="RovingFocusGroup",[A,G,te]=H(m),[re,ge]=Q(m,[te]),[oe,ne]=re(m),M=s.forwardRef((e,t)=>d.jsx(A.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(A.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(se,{...e,ref:t})})}));M.displayName=m;var se=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:I=!1,dir:F,currentTabStopId:x,defaultCurrentTabStopId:w,onCurrentTabStopIdChange:b,onEntryFocus:c,preventScrollOnEntryFocus:R=!1,...E}=e,g=s.useRef(null),v=W(t,g),n=Z(F),[l=null,h]=q({prop:x,defaultProp:w,onChange:b}),[u,i]=s.useState(!1),y=J(c),j=G(r),C=s.useRef(!1),[K,_]=s.useState(0);return s.useEffect(()=>{const a=g.current;if(a)return a.addEventListener(S,y),()=>a.removeEventListener(S,y)},[y]),d.jsx(oe,{scope:r,orientation:o,dir:n,loop:I,currentTabStopId:l,onItemFocus:s.useCallback(a=>h(a),[h]),onItemShiftTab:s.useCallback(()=>i(!0),[]),onFocusableItemAdd:s.useCallback(()=>_(a=>a+1),[]),onFocusableItemRemove:s.useCallback(()=>_(a=>a-1),[]),children:d.jsx(P.div,{tabIndex:u||K===0?-1:0,"data-orientation":o,...E,ref:v,style:{outline:"none",...e.style},onMouseDown:p(e.onMouseDown,()=>{C.current=!0}),onFocus:p(e.onFocus,a=>{const L=!C.current;if(a.target===a.currentTarget&&L&&!u){const D=new CustomEvent(S,ee);if(a.currentTarget.dispatchEvent(D),!D.defaultPrevented){const T=j().filter(f=>f.focusable),U=T.find(f=>f.active),B=T.find(f=>f.id===l),V=[U,B,...T].filter(Boolean).map(f=>f.ref.current);k(V,R)}}C.current=!1}),onBlur:p(e.onBlur,()=>i(!1))})})}),N="RovingFocusGroupItem",O=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:I=!1,tabStopId:F,...x}=e,w=X(),b=F||w,c=ne(N,r),R=c.currentTabStopId===b,E=G(r),{onFocusableItemAdd:g,onFocusableItemRemove:v}=c;return s.useEffect(()=>{if(o)return g(),()=>v()},[o,g,v]),d.jsx(A.ItemSlot,{scope:r,id:b,focusable:o,active:I,children:d.jsx(P.span,{tabIndex:R?0:-1,"data-orientation":c.orientation,...x,ref:t,onMouseDown:p(e.onMouseDown,n=>{o?c.onItemFocus(b):n.preventDefault()}),onFocus:p(e.onFocus,()=>c.onItemFocus(b)),onKeyDown:p(e.onKeyDown,n=>{if(n.key==="Tab"&&n.shiftKey){c.onItemShiftTab();return}if(n.target!==n.currentTarget)return;const l=ue(n,c.orientation,c.dir);if(l!==void 0){if(n.metaKey||n.ctrlKey||n.altKey||n.shiftKey)return;n.preventDefault();let u=E().filter(i=>i.focusable).map(i=>i.ref.current);if(l==="last")u.reverse();else if(l==="prev"||l==="next"){l==="prev"&&u.reverse();const i=u.indexOf(n.currentTarget);u=c.loop?ie(u,i+1):u.slice(i+1)}setTimeout(()=>k(u))}})})})});O.displayName=N;var ae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ue(e,t,r){const o=ce(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ae[o]}function k(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function ie(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var ve=M,me=O;function Ie(){const[e,t]=s.useState(!1);return s.useEffect(()=>{const r=()=>{t(window.innerWidth<768)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),e}export{pe as B,me as I,ve as R,ge as c,Ie as u};
