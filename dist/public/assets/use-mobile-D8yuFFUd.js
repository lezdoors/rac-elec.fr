import{j as d,J as z,aM as H,aD as Y,r as s,aN as J,aO as Q,aF as G,aI as p,aH as W,aP as q,aG as X,aQ as Z}from"./index-C49_B6j6.js";const $=H("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",purple:"border-transparent bg-purple-100 text-purple-800 hover:bg-purple-200",blue:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-amber-100 text-amber-800 hover:bg-amber-200",info:"border-transparent bg-sky-100 text-sky-800 hover:bg-sky-200"}},defaultVariants:{variant:"default"}});function fe({className:e,variant:t,...r}){return d.jsx("div",{className:z($({variant:t}),e),...r})}var A="rovingFocusGroup.onEntryFocus",ee={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[_,M,te]=J(g),[re,be]=Y(g,[te]),[oe,ne]=re(g),N=s.forwardRef((e,t)=>d.jsx(_.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(_.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(se,{...e,ref:t})})}));N.displayName=g;var se=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:R=!1,dir:E,currentTabStopId:v,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:y,onEntryFocus:b,preventScrollOnEntryFocus:c=!1,...m}=e,I=s.useRef(null),F=W(t,I),x=q(E),[w,n]=X({prop:v,defaultProp:h??null,onChange:y,caller:g}),[i,S]=s.useState(!1),u=Z(b),l=M(r),T=s.useRef(!1),[K,D]=s.useState(0);return s.useEffect(()=>{const a=I.current;if(a)return a.addEventListener(A,u),()=>a.removeEventListener(A,u)},[u]),d.jsx(oe,{scope:r,orientation:o,dir:x,loop:R,currentTabStopId:w,onItemFocus:s.useCallback(a=>n(a),[n]),onItemShiftTab:s.useCallback(()=>S(!0),[]),onFocusableItemAdd:s.useCallback(()=>D(a=>a+1),[]),onFocusableItemRemove:s.useCallback(()=>D(a=>a-1),[]),children:d.jsx(G.div,{tabIndex:i||K===0?-1:0,"data-orientation":o,...m,ref:F,style:{outline:"none",...e.style},onMouseDown:p(e.onMouseDown,()=>{T.current=!0}),onFocus:p(e.onFocus,a=>{const L=!T.current;if(a.target===a.currentTarget&&L&&!i){const P=new CustomEvent(A,ee);if(a.currentTarget.dispatchEvent(P),!P.defaultPrevented){const C=l().filter(f=>f.focusable),U=C.find(f=>f.active),B=C.find(f=>f.id===w),V=[U,B,...C].filter(Boolean).map(f=>f.ref.current);j(V,c)}}T.current=!1}),onBlur:p(e.onBlur,()=>S(!1))})})}),O="RovingFocusGroupItem",k=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:R=!1,tabStopId:E,children:v,...h}=e,y=Q(),b=E||y,c=ne(O,r),m=c.currentTabStopId===b,I=M(r),{onFocusableItemAdd:F,onFocusableItemRemove:x,currentTabStopId:w}=c;return s.useEffect(()=>{if(o)return F(),()=>x()},[o,F,x]),d.jsx(_.ItemSlot,{scope:r,id:b,focusable:o,active:R,children:d.jsx(G.span,{tabIndex:m?0:-1,"data-orientation":c.orientation,...h,ref:t,onMouseDown:p(e.onMouseDown,n=>{o?c.onItemFocus(b):n.preventDefault()}),onFocus:p(e.onFocus,()=>c.onItemFocus(b)),onKeyDown:p(e.onKeyDown,n=>{if(n.key==="Tab"&&n.shiftKey){c.onItemShiftTab();return}if(n.target!==n.currentTarget)return;const i=ue(n,c.orientation,c.dir);if(i!==void 0){if(n.metaKey||n.ctrlKey||n.altKey||n.shiftKey)return;n.preventDefault();let u=I().filter(l=>l.focusable).map(l=>l.ref.current);if(i==="last")u.reverse();else if(i==="prev"||i==="next"){i==="prev"&&u.reverse();const l=u.indexOf(n.currentTarget);u=c.loop?ie(u,l+1):u.slice(l+1)}setTimeout(()=>j(u))}}),children:typeof v=="function"?v({isCurrentTabStop:m,hasTabStop:w!=null}):v})})});k.displayName=O;var ae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ue(e,t,r){const o=ce(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ae[o]}function j(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function ie(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var pe=N,ve=k;function ge(){const[e,t]=s.useState(!1);return s.useEffect(()=>{const r=()=>{t(window.innerWidth<768)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),e}export{fe as B,ve as I,pe as R,be as c,ge as u};
