<!DOCTYPE html>
<html>
<head>
    <title>Conversion Tracking Debug</title>
    <!-- Google tag -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GT-MJKTJGCK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'GT-MJKTJGCK');
    </script>
</head>
<body>
    <h1>Testing Conversion Tracking</h1>
    <button onclick="testFormStart()">Test Form Start</button>
    <button onclick="testFormSubmit()">Test Form Submit</button>
    <button onclick="testPurchase()">Test Purchase</button>
    
    <div id="results"></div>

    <script>
    // Copy the exact functions from index.html
    function gtag_report_conversion_form_start(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
        'send_to': 'AW-16698052873/5o3ICMLjpMUaEtmioJo-',
        'event_callback': callback
      });
      return false;
    }
    
    function gtag_report_conversion_form_submit(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
        'send_to': 'AW-16698052873/PqZMCJW-tMUaEtmioJo-',
        'event_callback': callback
      });
      return false;
    }
    
    function testFormStart() {
      console.log('Testing form start conversion...');
      const result = gtag_report_conversion_form_start();
      document.getElementById('results').innerHTML += '<p>Form Start: ' + (result === false ? 'Called successfully' : 'Error') + '</p>';
    }
    
    function testFormSubmit() {
      console.log('Testing form submit conversion...');
      const result = gtag_report_conversion_form_submit();
      document.getElementById('results').innerHTML += '<p>Form Submit: ' + (result === false ? 'Called successfully' : 'Error') + '</p>';
    }
    
    function testPurchase() {
      console.log('Testing purchase conversion...');
      if (typeof window !== 'undefined' && window.gtag) {
        window.gtag('event', 'conversion', {
          'send_to': 'AW-16698052873/IFUxCJLHtMUaEtmioJo-',
          'transaction_id': 'TEST123'
        });
        document.getElementById('results').innerHTML += '<p>Purchase: Called successfully</p>';
      } else {
        document.getElementById('results').innerHTML += '<p>Purchase: gtag not available</p>';
      }
    }
    
    // Test on page load
    setTimeout(() => {
      console.log('=== CONVERSION TRACKING DEBUG ===');
      console.log('gtag available:', typeof window.gtag);
      console.log('dataLayer available:', typeof window.dataLayer);
      console.log('form_start function:', typeof gtag_report_conversion_form_start);
      console.log('form_submit function:', typeof gtag_report_conversion_form_submit);
    }, 2000);
    </script>
</body>
</html>